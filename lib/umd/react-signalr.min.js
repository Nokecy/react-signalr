!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("axios")):"function"==typeof define&&define.amd?define("react-signalr",["react","axios"],e):"object"==typeof exports?exports["react-signalr"]=e(require("react"),require("axios")):t["react-signalr"]=e(t.React,t.axios)}("undefined"!=typeof self?self:this,function(t,e){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){t.exports=n(5)()},function(e,n){e.exports=t},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){t.exports=n(4)},function(t,e,n){"use strict";function r(t,e){return function(){return e(t.apply(this,arguments))}}function o(t,e){if("function"==typeof t)return r(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),o={},i=0;i<n.length;i++){var s=n[i],u=t[s];"function"==typeof u&&(o[s]=r(u,e))}return o}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(){var t=[],e=[];return{clear:function(){e=yt,t=yt},notify:function(){for(var n=t=e,r=0;r<n.length;r++)n[r]()},get:function(){return e},subscribe:function(n){var r=!0;return e===t&&(e=t.slice()),e.push(n),function(){r&&t!==yt&&(r=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(n),1))}}}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function d(){}function v(t,e){var n={run:function(r){try{var o=t(e.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(t){n.shouldComponentUpdate=!0,n.error=t}}};return n}function y(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.getDisplayName,i=void 0===o?function(t){return"ConnectAdvanced("+t+")"}:o,s=r.methodName,u=void 0===s?"connectAdvanced":s,a=r.renderCountProp,c=void 0===a?void 0:a,y=r.shouldHandleStateChanges,g=void 0===y||y,_=r.storeKey,m=void 0===_?"store":_,b=r.withRef,w=void 0!==b&&b,S=l(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),I=m+"Subscription",O=bt++,E=(e={},e[m]=ft,e[I]=ht,e),k=(n={},n[I]=ht,n);return function(e){vt()("function"==typeof e,"You must pass a component to the function returned by "+u+". Instead received "+JSON.stringify(e));var n=e.displayName||e.name||"Component",r=i(n),o=mt({},S,{getDisplayName:i,methodName:u,renderCountProp:c,shouldHandleStateChanges:g,storeKey:m,withRef:w,displayName:r,wrappedComponentName:n,WrappedComponent:e}),s=function(n){function i(t,e){h(this,i);var o=f(this,n.call(this,t,e));return o.version=O,o.state={},o.renderCount=0,o.store=t[m]||e[m],o.propsMode=Boolean(t[m]),o.setWrappedInstance=o.setWrappedInstance.bind(o),vt()(o.store,'Could not find "'+m+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "'+m+'" as a prop to "'+r+'".'),o.initSelector(),o.initSubscription(),o}return p(i,n),i.prototype.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return t={},t[I]=e||this.context[I],t},i.prototype.componentDidMount=function(){g&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},i.prototype.componentWillReceiveProps=function(t){this.selector.run(t)},i.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},i.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=d,this.store=null,this.selector.run=d,this.selector.shouldComponentUpdate=!1},i.prototype.getWrappedInstance=function(){return vt()(w,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+u+"() call."),this.wrappedInstance},i.prototype.setWrappedInstance=function(t){this.wrappedInstance=t},i.prototype.initSelector=function(){var e=t(this.store.dispatch,o);this.selector=v(e,this.store),this.selector.run(this.props)},i.prototype.initSubscription=function(){if(g){var t=(this.propsMode?this.props:this.context)[I];this.subscription=new _t(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},i.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(wt)):this.notifyNestedSubs()},i.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},i.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},i.prototype.addExtraProps=function(t){if(!(w||c||this.propsMode&&this.subscription))return t;var e=mt({},t);return w&&(e.ref=this.setWrappedInstance),c&&(e[c]=this.renderCount++),this.propsMode&&this.subscription&&(e[I]=this.subscription),e},i.prototype.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return Object(it.createElement)(e,this.addExtraProps(t.props))},i}(it.Component);return s.WrappedComponent=e,s.displayName=r,s.childContextTypes=k,s.contextTypes=E,s.propTypes=E,lt()(s,e)}}function g(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!==t&&e!==e}function _(t,e){if(g(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!St.call(e,n[o])||!g(t[n[o]],e[n[o]]))return!1;return!0}function m(t,e){return function(n){return t(e(n))}}function b(t){return function(e,n){function r(){return o}var o=t(e,n);return r.dependsOnOwnProps=!1,r}}function w(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function S(t,e){return function(e,n){var r=(n.displayName,function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)});return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=w(t);var o=r(e,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=w(o),o=r(e,n)),o},r}}function I(t){return"function"==typeof t?S(t,"mapDispatchToProps"):void 0}function O(t){return t?void 0:b(function(t){return{dispatch:t}})}function E(t){return t&&"object"==typeof t?b(function(e){return o(t,e)}):void 0}function k(t){return"function"==typeof t?S(t,"mapStateToProps"):void 0}function T(t){return t?void 0:b(function(){return{}})}function C(t,e,n){return At({},n,t,e)}function x(t){return function(e,n){var r=(n.displayName,n.pure),o=n.areMergedPropsEqual,i=!1,s=void 0;return function(e,n,u){var a=t(e,n,u);return i?r&&o(a,s)||(s=a):(i=!0,s=a),s}}}function P(t){return"function"==typeof t?x(t):void 0}function q(t){return t?void 0:function(){return C}}function z(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function M(t,e,n,r){return function(o,i){return n(t(o,i),e(r,i),i)}}function j(t,e,n,r,o){function i(o,i){return d=o,v=i,y=t(d,v),g=e(r,v),_=n(y,g,v),l=!0,_}function s(){return y=t(d,v),e.dependsOnOwnProps&&(g=e(r,v)),_=n(y,g,v)}function u(){return t.dependsOnOwnProps&&(y=t(d,v)),e.dependsOnOwnProps&&(g=e(r,v)),_=n(y,g,v)}function a(){var e=t(d,v),r=!p(e,y);return y=e,r&&(_=n(y,g,v)),_}function c(t,e){var n=!f(e,v),r=!h(t,d);return d=t,v=e,n&&r?s():n?u():r?a():_}var h=o.areStatesEqual,f=o.areOwnPropsEqual,p=o.areStatePropsEqual,l=!1,d=void 0,v=void 0,y=void 0,g=void 0,_=void 0;return function(t,e){return l?c(t,e):i(t,e)}}function D(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,o=e.initMergeProps,i=z(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),s=n(t,i),u=r(t,i),a=o(t,i);return(i.pure?j:M)(s,u,a,t,i)}function R(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function A(t,e,n){for(var r=e.length-1;r>=0;r--){var o=e[r](t);if(o)return o}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function U(t,e){return t===e}function N(t,e){function n(){this.constructor=t}Ht(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function L(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{a(r.next(t))}catch(t){i(t)}}function u(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,u)}a((r=r.apply(t,e||[])).next())})}function W(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,u,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u}function H(t,e){var n=null;return t instanceof ArrayBuffer?(n="Binary data of length "+t.byteLength,e&&(n+=". Content: '"+F(t)+"'")):"string"==typeof t&&(n="String data of length "+t.length,e&&(n+=". Content: '"+t+"'.")),n}function F(t){var e=new Uint8Array(t),n="";return e.forEach(function(t){n+="0x"+(t<16?"0":"")+t.toString(16)+" "}),n.substr(0,n.length-1)}function B(t,e,n,r,o,i,s){return L(this,void 0,void 0,function(){var u,a,c,h;return W(this,function(f){switch(f.label){case 0:return[4,o()];case 1:return a=f.sent(),a&&(h={},h.Authorization="Bearer "+a,u=h),t.log($.Trace,"("+e+" transport) sending data. "+H(i,s)+"."),[4,n.post(r,{content:i,headers:u})];case 2:return c=f.sent(),t.log($.Trace,"("+e+" transport) request complete. Response status: "+c.statusCode+"."),[2]}})})}function K(t){return void 0===t?new re($.Information):null===t?$t.instance:t.log?t:new re(t)}function J(t,e){return!t||0!=(e&t)}function V(t){return void 0!==t.log}function G(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function X(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var s=e[o](i),u=s.value}catch(t){return void n(t)}if(!s.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}return r("next")})}}function Y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Z(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var $,tt=n(0),et=n.n(tt),nt=et.a.func,rt=et.a.shape({invoke:nt.isRequired,send:nt.isRequired,add:nt.isRequired,remove:nt.isRequired,register:nt.isRequired,unregister:nt.isRequired}),ot=rt,it=n(1),st=n.n(it),ut=n(7),at=n.n(ut),ct=(n(8),function(){return Math.random().toString(36).substring(7).split("").join(".")}),ht=(ct(),ct(),et.a.shape({trySubscribe:et.a.func.isRequired,tryUnsubscribe:et.a.func.isRequired,notifyNestedSubs:et.a.func.isRequired,isSubscribed:et.a.func.isRequired})),ft=et.a.shape({subscribe:et.a.func.isRequired,dispatch:et.a.func.isRequired,getState:et.a.func.isRequired}),pt=(function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],r=n||e+"Subscription",o=function(t){function n(r,o){i(this,n);var u=s(this,t.call(this,r,o));return u[e]=r.store,u}return u(n,t),n.prototype.getChildContext=function(){var t;return t={},t[e]=this[e],t[r]=null,t},n.prototype.render=function(){return it.Children.only(this.props.children)},n}(it.Component);o.propTypes={store:ft.isRequired,children:et.a.element.isRequired},o.childContextTypes=(t={},t[e]=ft.isRequired,t[r]=ht,t)}(),n(11)),lt=n.n(pt),dt=n(12),vt=n.n(dt),yt=null,gt={notify:function(){}},_t=function(){function t(e,n,r){a(this,t),this.store=e,this.parentSub=n,this.onStateChange=r,this.unsubscribe=null,this.listeners=gt}return t.prototype.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},t.prototype.notifyNestedSubs=function(){this.listeners.notify()},t.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},t.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=c())},t.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=gt)},t}(),mt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bt=0,wt={},St=Object.prototype.hasOwnProperty,It=n(13),Ot="object"==typeof self&&self&&self.Object===Object&&self,Et=It.a||Ot||Function("return this")(),kt=Et,Tt=kt.Symbol,Ct=Tt,xt=Object.prototype,Pt=(xt.hasOwnProperty,xt.toString,Ct&&Ct.toStringTag,Object.prototype),qt=(Pt.toString,Ct&&Ct.toStringTag,m),zt=(qt(Object.getPrototypeOf,Object),Function.prototype),Mt=Object.prototype,jt=zt.toString,Dt=(Mt.hasOwnProperty,jt.call(Object),[I,O,E]),Rt=[k,T],At=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ut=[P,q],Nt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.connectHOC,n=void 0===e?y:e,r=t.mapStateToPropsFactories,o=void 0===r?Rt:r,i=t.mapDispatchToPropsFactories,s=void 0===i?Dt:i,u=t.mergePropsFactories,a=void 0===u?Ut:u,c=t.selectorFactory,h=void 0===c?D:c;return function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=i.pure,c=void 0===u||u,f=i.areStatesEqual,p=void 0===f?U:f,l=i.areOwnPropsEqual,d=void 0===l?_:l,v=i.areStatePropsEqual,y=void 0===v?_:v,g=i.areMergedPropsEqual,m=void 0===g?_:g,b=R(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),w=A(t,o,"mapStateToProps"),S=A(e,s,"mapDispatchToProps"),I=A(r,a,"mergeProps");return n(h,Nt({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:w,initMapDispatchToProps:S,initMergeProps:I,pure:c,areStatesEqual:p,areOwnPropsEqual:d,areStatePropsEqual:y,areMergedPropsEqual:m},b))}}(),Wt=n(14),Ht=function(t,e){return(Ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},Ft=function(){return Ft=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ft.apply(this,arguments)},Bt=function(t){function e(e,n){var r=this.constructor,o=this,i=r.prototype;return o=t.call(this,e)||this,o.statusCode=n,o.__proto__=i,o}return N(e,t),e}(Error),Kt=function(t){function e(e){var n=this.constructor;void 0===e&&(e="A timeout occurred.");var r=this,o=n.prototype;return r=t.call(this,e)||this,r.__proto__=o,r}return N(e,t),e}(Error);!function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Information=2]="Information",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",t[t.None=6]="None"}($||($={}));var Jt,Vt=function(){function t(t,e,n){this.statusCode=t,this.statusText=e,this.content=n}return t}(),Gt=function(){function t(){}return t.prototype.get=function(t,e){return this.send(Ft({},e,{method:"GET",url:t}))},t.prototype.post=function(t,e){return this.send(Ft({},e,{method:"POST",url:t}))},t.prototype.delete=function(t,e){return this.send(Ft({},e,{method:"DELETE",url:t}))},t}(),Xt=function(t){function e(e){var n=t.call(this)||this;return n.logger=e,n}return N(e,t),e.prototype.send=function(t){var e=this;return new Promise(function(n,r){var o=new XMLHttpRequest;o.open(t.method,t.url,!0),o.withCredentials=!0,o.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.headers&&Object.keys(t.headers).forEach(function(e){return o.setRequestHeader(e,t.headers[e])}),t.responseType&&(o.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=function(){o.abort()}),t.timeout&&(o.timeout=t.timeout),o.onload=function(){t.abortSignal&&(t.abortSignal.onabort=null),o.status>=200&&o.status<300?n(new Vt(o.status,o.statusText,o.response||o.responseText)):r(new Bt(o.statusText,o.status))},o.onerror=function(){e.logger.log($.Warning,"Error from HTTP request. "+o.status+": "+o.statusText),r(new Bt(o.statusText,o.status))},o.ontimeout=function(){e.logger.log($.Warning,"Timeout from HTTP request."),r(new Kt)},o.send(t.content||"")})},e}(Gt),Yt=function(){function t(){}return t.write=function(e){return""+e+t.RecordSeparator},t.parse=function(e){if(e[e.length-1]!==t.RecordSeparator)throw new Error("Message is incomplete.");var n=e.split(t.RecordSeparator);return n.pop(),n},t.RecordSeparatorCode=30,t.RecordSeparator=String.fromCharCode(t.RecordSeparatorCode),t}(),Qt=function(){function t(){}return t.prototype.writeHandshakeRequest=function(t){return Yt.write(JSON.stringify(t))},t.prototype.parseHandshakeResponse=function(t){var e,n,r;if(t instanceof ArrayBuffer){var o=new Uint8Array(t),i=o.indexOf(Yt.RecordSeparatorCode);if(-1===i)throw new Error("Message is incomplete.");var s=i+1;n=String.fromCharCode.apply(null,o.slice(0,s)),r=o.byteLength>s?o.slice(s).buffer:null}else{var u=t,i=u.indexOf(Yt.RecordSeparator);if(-1===i)throw new Error("Message is incomplete.");var s=i+1;n=u.substring(0,s),r=u.length>s?u.substring(s):null}var a=Yt.parse(n);return e=JSON.parse(a[0]),[r,e]},t}();!function(t){t[t.Invocation=1]="Invocation",t[t.StreamItem=2]="StreamItem",t[t.Completion=3]="Completion",t[t.StreamInvocation=4]="StreamInvocation",t[t.CancelInvocation=5]="CancelInvocation",t[t.Ping=6]="Ping",t[t.Close=7]="Close"}(Jt||(Jt={}));var Zt,$t=function(){function t(){}return t.prototype.log=function(t,e){},t.instance=new t,t}(),te=function(){function t(){}return t.isRequired=function(t,e){if(null===t||void 0===t)throw new Error("The '"+e+"' argument is required.")},t.isIn=function(t,e,n){if(!(t in e))throw new Error("Unknown "+n+" value: "+t+".")},t}(),ee=function(){function t(t){this.observers=[],this.cancelCallback=t}return t.prototype.next=function(t){for(var e=0,n=this.observers;e<n.length;e++){n[e].next(t)}},t.prototype.error=function(t){for(var e=0,n=this.observers;e<n.length;e++){var r=n[e];r.error&&r.error(t)}},t.prototype.complete=function(){for(var t=0,e=this.observers;t<e.length;t++){var n=e[t];n.complete&&n.complete()}},t.prototype.subscribe=function(t){return this.observers.push(t),new ne(this,t)},t}(),ne=function(){function t(t,e){this.subject=t,this.observer=e}return t.prototype.dispose=function(){var t=this.subject.observers.indexOf(this.observer);t>-1&&this.subject.observers.splice(t,1),0===this.subject.observers.length&&this.subject.cancelCallback().catch(function(t){})},t}(),re=function(){function t(t){this.minimumLogLevel=t}return t.prototype.log=function(t,e){if(t>=this.minimumLogLevel)switch(t){case $.Critical:case $.Error:console.error($[t]+": "+e);break;case $.Warning:console.warn($[t]+": "+e);break;case $.Information:console.info($[t]+": "+e);break;default:console.log($[t]+": "+e)}},t}(),oe=3e4,ie=function(){function t(t,e,n){var r=this;te.isRequired(t,"connection"),te.isRequired(e,"logger"),te.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=oe,this.logger=e,this.protocol=n,this.connection=t,this.handshakeProtocol=new Qt,this.connection.onreceive=function(t){return r.processIncomingData(t)},this.connection.onclose=function(t){return r.connectionClosed(t)},this.callbacks={},this.methods={},this.closedCallbacks=[],this.id=0}return t.create=function(e,n,r){return new t(e,n,r)},t.prototype.start=function(){return L(this,void 0,void 0,function(){var t;return W(this,function(e){switch(e.label){case 0:return t={protocol:this.protocol.name,version:this.protocol.version},this.logger.log($.Debug,"Starting HubConnection."),this.receivedHandshakeResponse=!1,[4,this.connection.start(this.protocol.transferFormat)];case 1:return e.sent(),this.logger.log($.Debug,"Sending handshake request."),[4,this.connection.send(this.handshakeProtocol.writeHandshakeRequest(t))];case 2:return e.sent(),this.logger.log($.Information,"Using HubProtocol '"+this.protocol.name+"'."),this.cleanupTimeout(),this.configureTimeout(),[2]}})})},t.prototype.stop=function(){return this.logger.log($.Debug,"Stopping HubConnection."),this.cleanupTimeout(),this.connection.stop()},t.prototype.stream=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.createStreamInvocation(t,n),i=new ee(function(){var t=e.createCancelInvocation(o.invocationId),n=e.protocol.writeMessage(t);return delete e.callbacks[o.invocationId],e.connection.send(n)});this.callbacks[o.invocationId]=function(t,e){if(e)return void i.error(e);t.type===Jt.Completion?t.error?i.error(new Error(t.error)):i.complete():i.next(t.item)};var s=this.protocol.writeMessage(o);return this.connection.send(s).catch(function(t){i.error(t),delete e.callbacks[o.invocationId]}),i},t.prototype.send=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this.createInvocation(t,e,!0),o=this.protocol.writeMessage(r);return this.connection.send(o)},t.prototype.invoke=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.createInvocation(t,n,!1);return new Promise(function(t,n){e.callbacks[o.invocationId]=function(e,r){if(r)return void n(r);if(e.type===Jt.Completion){var o=e;o.error?n(new Error(o.error)):t(o.result)}else n(new Error("Unexpected message type: "+e.type))};var r=e.protocol.writeMessage(o);e.connection.send(r).catch(function(t){n(t),delete e.callbacks[o.invocationId]})})},t.prototype.on=function(t,e){t&&e&&(t=t.toLowerCase(),this.methods[t]||(this.methods[t]=[]),-1===this.methods[t].indexOf(e)&&this.methods[t].push(e))},t.prototype.off=function(t,e){if(t){t=t.toLowerCase();var n=this.methods[t];if(n)if(e){var r=n.indexOf(e);-1!==r&&(n.splice(r,1),0===n.length&&delete this.methods[t])}else delete this.methods[t]}},t.prototype.onclose=function(t){t&&this.closedCallbacks.push(t)},t.prototype.processIncomingData=function(t){if(this.cleanupTimeout(),this.receivedHandshakeResponse||(t=this.processHandshakeResponse(t),this.receivedHandshakeResponse=!0),t)for(var e=this.protocol.parseMessages(t,this.logger),n=0,r=e;n<r.length;n++){var o=r[n];switch(o.type){case Jt.Invocation:this.invokeClientMethod(o);break;case Jt.StreamItem:case Jt.Completion:var i=this.callbacks[o.invocationId];null!=i&&(o.type===Jt.Completion&&delete this.callbacks[o.invocationId],i(o));break;case Jt.Ping:break;case Jt.Close:this.logger.log($.Information,"Close message received from server."),this.connection.stop(o.error?new Error("Server returned an error on close: "+o.error):null);break;default:this.logger.log($.Warning,"Invalid message type: "+o.type)}}this.configureTimeout()},t.prototype.processHandshakeResponse=function(t){var e,n;try{i=this.handshakeProtocol.parseHandshakeResponse(t),n=i[0],e=i[1]}catch(t){var r="Error parsing handshake response: "+t;this.logger.log($.Error,r);var o=new Error(r);throw this.connection.stop(o),o}if(e.error){var r="Server returned handshake error: "+e.error;this.logger.log($.Error,r),this.connection.stop(new Error(r))}else this.logger.log($.Debug,"Server handshake complete.");return n;var i},t.prototype.configureTimeout=function(){var t=this;this.connection.features&&this.connection.features.inherentKeepAlive||(this.timeoutHandle=setTimeout(function(){return t.serverTimeout()},this.serverTimeoutInMilliseconds))},t.prototype.serverTimeout=function(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))},t.prototype.invokeClientMethod=function(t){var e=this,n=this.methods[t.target.toLowerCase()];if(n){if(n.forEach(function(n){return n.apply(e,t.arguments)}),t.invocationId){var r="Server requested a response, which is not supported in this version of the client.";this.logger.log($.Error,r),this.connection.stop(new Error(r))}}else this.logger.log($.Warning,"No client method with the name '"+t.target+"' found.")},t.prototype.connectionClosed=function(t){var e=this,n=this.callbacks;this.callbacks={},Object.keys(n).forEach(function(e){(0,n[e])(void 0,t||new Error("Invocation canceled due to connection being closed."))}),this.cleanupTimeout(),this.closedCallbacks.forEach(function(n){return n.apply(e,[t])})},t.prototype.cleanupTimeout=function(){this.timeoutHandle&&clearTimeout(this.timeoutHandle)},t.prototype.createInvocation=function(t,e,n){if(n)return{arguments:e,target:t,type:Jt.Invocation};var r=this.id;return this.id++,{arguments:e,invocationId:r.toString(),target:t,type:Jt.Invocation}},t.prototype.createStreamInvocation=function(t,e){var n=this.id;return this.id++,{arguments:e,invocationId:n.toString(),target:t,type:Jt.StreamInvocation}},t.prototype.createCancelInvocation=function(t){return{invocationId:t,type:Jt.CancelInvocation}},t}();!function(t){t[t.None=0]="None",t[t.WebSockets=1]="WebSockets",t[t.ServerSentEvents=2]="ServerSentEvents",t[t.LongPolling=4]="LongPolling"}(Zt||(Zt={}));var se;!function(t){t[t.Text=1]="Text",t[t.Binary=2]="Binary"}(se||(se={}));var ue=function(){function t(){this.isAborted=!1}return t.prototype.abort=function(){this.isAborted||(this.isAborted=!0,this.onabort&&this.onabort())},Object.defineProperty(t.prototype,"signal",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aborted",{get:function(){return this.isAborted},enumerable:!0,configurable:!0}),t}(),ae=5e3,ce=function(){function t(t,e,n,r,o){this.httpClient=t,this.accessTokenFactory=e||function(){return null},this.logger=n,this.pollAbort=new ue,this.logMessageContent=r,this.shutdownTimeout=o||ae}return Object.defineProperty(t.prototype,"pollAborted",{get:function(){return this.pollAbort.aborted},enumerable:!0,configurable:!0}),t.prototype.connect=function(t,e){return L(this,void 0,void 0,function(){var n,r,o,i,s;return W(this,function(u){switch(u.label){case 0:if(te.isRequired(t,"url"),te.isRequired(e,"transferFormat"),te.isIn(e,se,"transferFormat"),this.url=t,this.logger.log($.Trace,"(LongPolling transport) Connecting"),e===se.Binary&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");return n={abortSignal:this.pollAbort.signal,headers:{},timeout:9e4},e===se.Binary&&(n.responseType="arraybuffer"),[4,this.accessTokenFactory()];case 1:return r=u.sent(),this.updateHeaderToken(n,r),i=t+"&_="+Date.now(),this.logger.log($.Trace,"(LongPolling transport) polling: "+i),[4,this.httpClient.get(i,n)];case 2:return s=u.sent(),200!==s.statusCode?(this.logger.log($.Error,"(LongPolling transport) Unexpected response code: "+s.statusCode),o=new Bt(s.statusText,s.statusCode),this.running=!1):this.running=!0,this.poll(this.url,n,o),[2,Promise.resolve()]}})})},t.prototype.updateHeaderToken=function(t,e){if(e)return void(t.headers.Authorization="Bearer "+e);t.headers.Authorization&&delete t.headers.Authorization},t.prototype.poll=function(t,e,n){return L(this,void 0,void 0,function(){var r,o,i,s;return W(this,function(u){switch(u.label){case 0:u.trys.push([0,,8,9]),u.label=1;case 1:return this.running?[4,this.accessTokenFactory()]:[3,7];case 2:r=u.sent(),this.updateHeaderToken(e,r),u.label=3;case 3:return u.trys.push([3,5,,6]),o=t+"&_="+Date.now(),this.logger.log($.Trace,"(LongPolling transport) polling: "+o),[4,this.httpClient.get(o,e)];case 4:return i=u.sent(),204===i.statusCode?(this.logger.log($.Information,"(LongPolling transport) Poll terminated by server"),this.running=!1):200!==i.statusCode?(this.logger.log($.Error,"(LongPolling transport) Unexpected response code: "+i.statusCode),n=new Bt(i.statusText,i.statusCode),this.running=!1):i.content?(this.logger.log($.Trace,"(LongPolling transport) data received. "+H(i.content,this.logMessageContent)),this.onreceive&&this.onreceive(i.content)):this.logger.log($.Trace,"(LongPolling transport) Poll timed out, reissuing."),[3,6];case 5:return s=u.sent(),this.running?s instanceof Kt?this.logger.log($.Trace,"(LongPolling transport) Poll timed out, reissuing."):(n=s,this.running=!1):this.logger.log($.Trace,"(LongPolling transport) Poll errored after shutdown: "+s.message),[3,6];case 6:return[3,1];case 7:return[3,9];case 8:return this.stopped=!0,this.shutdownTimer&&clearTimeout(this.shutdownTimer),this.onclose&&(this.logger.log($.Trace,"(LongPolling transport) Firing onclose event. Error: "+(n||"<undefined>")),this.onclose(n)),this.logger.log($.Trace,"(LongPolling transport) Transport finished."),[7];case 9:return[2]}})})},t.prototype.send=function(t){return L(this,void 0,void 0,function(){return W(this,function(e){return this.running?[2,B(this.logger,"LongPolling",this.httpClient,this.url,this.accessTokenFactory,t,this.logMessageContent)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]})})},t.prototype.stop=function(){return L(this,void 0,void 0,function(){var t,e,n,r=this;return W(this,function(o){switch(o.label){case 0:return o.trys.push([0,,3,4]),this.running=!1,this.logger.log($.Trace,"(LongPolling transport) sending DELETE request to "+this.url+"."),t={headers:{}},[4,this.accessTokenFactory()];case 1:return e=o.sent(),this.updateHeaderToken(t,e),[4,this.httpClient.delete(this.url,t)];case 2:return n=o.sent(),this.logger.log($.Trace,"(LongPolling transport) DELETE request accepted."),[3,4];case 3:return this.stopped||(this.shutdownTimer=setTimeout(function(){r.logger.log($.Warning,"(LongPolling transport) server did not terminate after DELETE request, canceling poll."),r.pollAbort.abort()},this.shutdownTimeout)),[7];case 4:return[2]}})})},t}(),he=function(){function t(t,e,n,r){this.httpClient=t,this.accessTokenFactory=e||function(){return null},this.logger=n,this.logMessageContent=r}return t.prototype.connect=function(t,e){return L(this,void 0,void 0,function(){var n,r=this;return W(this,function(o){switch(o.label){case 0:if(te.isRequired(t,"url"),te.isRequired(e,"transferFormat"),te.isIn(e,se,"transferFormat"),"undefined"==typeof EventSource)throw new Error("'EventSource' is not supported in your environment.");return this.logger.log($.Trace,"(SSE transport) Connecting"),[4,this.accessTokenFactory()];case 1:return n=o.sent(),n&&(t+=(t.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(n)),this.url=t,[2,new Promise(function(n,o){var i=!1;e!==se.Text&&o(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));var s=new EventSource(t,{withCredentials:!0});try{s.onmessage=function(t){if(r.onreceive)try{r.logger.log($.Trace,"(SSE transport) data received. "+H(t.data,r.logMessageContent)+"."),r.onreceive(t.data)}catch(t){return void(r.onclose&&r.onclose(t))}},s.onerror=function(t){var e=new Error(t.message||"Error occurred");i?r.close(e):o(e)},s.onopen=function(){r.logger.log($.Information,"SSE connected to "+r.url),r.eventSource=s,i=!0,n()}}catch(t){return Promise.reject(t)}})]}})})},t.prototype.send=function(t){return L(this,void 0,void 0,function(){return W(this,function(e){return this.eventSource?[2,B(this.logger,"SSE",this.httpClient,this.url,this.accessTokenFactory,t,this.logMessageContent)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]})})},t.prototype.stop=function(){return this.close(),Promise.resolve()},t.prototype.close=function(t){this.eventSource&&(this.eventSource.close(),this.eventSource=null,this.onclose&&this.onclose(t))},t}(),fe=function(){function t(t,e,n){this.logger=e,this.accessTokenFactory=t||function(){return null},this.logMessageContent=n}return t.prototype.connect=function(t,e){return L(this,void 0,void 0,function(){var n,r=this;return W(this,function(o){switch(o.label){case 0:if(te.isRequired(t,"url"),te.isRequired(e,"transferFormat"),te.isIn(e,se,"transferFormat"),"undefined"==typeof WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return this.logger.log($.Trace,"(WebSockets transport) Connecting"),[4,this.accessTokenFactory()];case 1:return n=o.sent(),n&&(t+=(t.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(n)),[2,new Promise(function(n,o){t=t.replace(/^http/,"ws");var i=new WebSocket(t);e===se.Binary&&(i.binaryType="arraybuffer"),i.onopen=function(e){r.logger.log($.Information,"WebSocket connected to "+t),r.webSocket=i,n()},i.onerror=function(t){o(t.error)},i.onmessage=function(t){r.logger.log($.Trace,"(WebSockets transport) data received. "+H(t.data,r.logMessageContent)+"."),r.onreceive&&r.onreceive(t.data)},i.onclose=function(t){r.logger.log($.Trace,"(WebSockets transport) socket closed."),r.onclose&&(!1===t.wasClean||1e3!==t.code?r.onclose(new Error("Websocket closed with status code: "+t.code+" ("+t.reason+")")):r.onclose())}})]}})})},t.prototype.send=function(t){return this.webSocket&&this.webSocket.readyState===WebSocket.OPEN?(this.logger.log($.Trace,"(WebSockets transport) sending data. "+H(t,this.logMessageContent)+"."),this.webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")},t.prototype.stop=function(){return this.webSocket&&(this.webSocket.close(),this.webSocket=null),Promise.resolve()},t}(),pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},le=function(){function t(t,e){void 0===e&&(e={}),this.features={},te.isRequired(t,"url"),this.logger=K(e.logger),this.baseUrl=this.resolveUrl(t),e=e||{},e.accessTokenFactory=e.accessTokenFactory||function(){return null},e.logMessageContent=e.logMessageContent||!1,this.httpClient=e.httpClient||new Xt(this.logger),this.connectionState=2,this.options=e}return t.prototype.start=function(t){return t=t||se.Binary,te.isIn(t,se,"transferFormat"),this.logger.log($.Debug,"Starting connection with transfer format '"+se[t]+"'."),2!==this.connectionState?Promise.reject(new Error("Cannot start a connection that is not in the 'Disconnected' state.")):(this.connectionState=0,this.startPromise=this.startInternal(t),this.startPromise)},t.prototype.send=function(t){if(1!==this.connectionState)throw new Error("Cannot send data if the connection is not in the 'Connected' State.");return this.transport.send(t)},t.prototype.stop=function(t){return L(this,void 0,void 0,function(){var e;return W(this,function(n){switch(n.label){case 0:this.connectionState=2,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.startPromise];case 2:return n.sent(),[3,4];case 3:return e=n.sent(),[3,4];case 4:return this.transport?(this.stopError=t,[4,this.transport.stop()]):[3,6];case 5:n.sent(),this.transport=null,n.label=6;case 6:return[2]}})})},t.prototype.startInternal=function(t){return L(this,void 0,void 0,function(){var e,n,r,o,i,s,u,a=this;return W(this,function(c){switch(c.label){case 0:e=this.baseUrl,this.accessTokenFactory=this.options.accessTokenFactory,c.label=1;case 1:return c.trys.push([1,12,,13]),this.options.skipNegotiation?this.options.transport!==Zt.WebSockets?[3,3]:(this.transport=this.constructTransport(Zt.WebSockets),[4,this.transport.connect(e,t)]):[3,5];case 2:return c.sent(),[3,4];case 3:throw Error("Negotiation can only be skipped when using the WebSocket transport directly.");case 4:return[3,11];case 5:n=null,r=0,o=function(){var t;return W(this,function(o){switch(o.label){case 0:return[4,i.getNegotiationResponse(e)];case 1:return n=o.sent(),2===i.connectionState?[2,{value:void 0}]:(n.url&&(e=n.url),n.accessToken&&(t=n.accessToken,i.accessTokenFactory=function(){return t}),r++,[2])}})},i=this,c.label=6;case 6:return[5,o()];case 7:if(s=c.sent(),"object"===(void 0===s?"undefined":pe(s)))return[2,s.value];c.label=8;case 8:if(n.url&&r<100)return[3,6];c.label=9;case 9:if(100===r&&n.url)throw Error("Negotiate redirection limit exceeded.");return[4,this.createTransport(e,this.options.transport,n,t)];case 10:c.sent(),c.label=11;case 11:return this.transport instanceof ce&&(this.features.inherentKeepAlive=!0),this.transport.onreceive=this.onreceive,this.transport.onclose=function(t){return a.stopConnection(t)},this.changeState(0,1),[3,13];case 12:throw u=c.sent(),this.logger.log($.Error,"Failed to start the connection: "+u),this.connectionState=2,this.transport=null,u;case 13:return[2]}})})},t.prototype.getNegotiationResponse=function(t){return L(this,void 0,void 0,function(){var e,n,r,o,i,s;return W(this,function(u){switch(u.label){case 0:return[4,this.accessTokenFactory()];case 1:e=u.sent(),e&&(s={},s.Authorization="Bearer "+e,n=s),r=this.resolveNegotiateUrl(t),this.logger.log($.Debug,"Sending negotiation request: "+r),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,this.httpClient.post(r,{content:"",headers:n})];case 3:if(o=u.sent(),200!==o.statusCode)throw Error("Unexpected status code returned from negotiate "+o.statusCode);return[2,JSON.parse(o.content)];case 4:throw i=u.sent(),this.logger.log($.Error,"Failed to complete negotiation with the server: "+i),i;case 5:return[2]}})})},t.prototype.createConnectUrl=function(t,e){return t+(-1===t.indexOf("?")?"?":"&")+"id="+e},t.prototype.createTransport=function(t,e,n,r){return L(this,void 0,void 0,function(){var o,i,s,u,a,c,h;return W(this,function(f){switch(f.label){case 0:return o=this.createConnectUrl(t,n.connectionId),this.isITransport(e)?(this.logger.log($.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=e,[4,this.transport.connect(o,r)]):[3,2];case 1:return f.sent(),this.changeState(0,1),[2];case 2:i=n.availableTransports,s=0,u=i,f.label=3;case 3:return s<u.length?(a=u[s],this.connectionState=0,"number"!=typeof(c=this.resolveTransport(a,e,r))?[3,8]:(this.transport=this.constructTransport(c),null!==n.connectionId?[3,5]:[4,this.getNegotiationResponse(t)])):[3,9];case 4:n=f.sent(),o=this.createConnectUrl(t,n.connectionId),f.label=5;case 5:return f.trys.push([5,7,,8]),[4,this.transport.connect(o,r)];case 6:return f.sent(),this.changeState(0,1),[2];case 7:return h=f.sent(),this.logger.log($.Error,"Failed to start the transport '"+Zt[c]+"': "+h),this.connectionState=2,n.connectionId=null,[3,8];case 8:return s++,[3,3];case 9:throw new Error("Unable to initialize any of the available transports.")}})})},t.prototype.constructTransport=function(t){switch(t){case Zt.WebSockets:return new fe(this.accessTokenFactory,this.logger,this.options.logMessageContent);case Zt.ServerSentEvents:return new he(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent);case Zt.LongPolling:return new ce(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent);default:throw new Error("Unknown transport: "+t+".")}},t.prototype.resolveTransport=function(t,e,n){var r=Zt[t.transport];if(null===r||void 0===r)this.logger.log($.Debug,"Skipping transport '"+t.transport+"' because it is not supported by this client.");else{var o=t.transferFormats.map(function(t){return se[t]});if(J(e,r))if(o.indexOf(n)>=0){if(!(r===Zt.WebSockets&&"undefined"==typeof WebSocket||r===Zt.ServerSentEvents&&"undefined"==typeof EventSource))return this.logger.log($.Debug,"Selecting transport '"+Zt[r]+"'"),r;this.logger.log($.Debug,"Skipping transport '"+Zt[r]+"' because it is not supported in your environment.'")}else this.logger.log($.Debug,"Skipping transport '"+Zt[r]+"' because it does not support the requested transfer format '"+se[n]+"'.");else this.logger.log($.Debug,"Skipping transport '"+Zt[r]+"' because it was disabled by the client.")}return null},t.prototype.isITransport=function(t){return t&&"object"===(void 0===t?"undefined":pe(t))&&"connect"in t},t.prototype.changeState=function(t,e){return this.connectionState===t&&(this.connectionState=e,!0)},t.prototype.stopConnection=function(t){return L(this,void 0,void 0,function(){return W(this,function(e){return this.transport=null,t=this.stopError||t,t?this.logger.log($.Error,"Connection disconnected with error '"+t+"'."):this.logger.log($.Information,"Connection disconnected."),this.connectionState=2,this.onclose&&this.onclose(t),[2]})})},t.prototype.resolveUrl=function(t){if(0===t.lastIndexOf("https://",0)||0===t.lastIndexOf("http://",0))return t;if("undefined"==typeof window||!window||!window.document)throw new Error("Cannot resolve '"+t+"'.");var e=window.document.createElement("a");return e.href=t,this.logger.log($.Information,"Normalizing '"+t+"' to '"+e.href+"'."),e.href},t.prototype.resolveNegotiateUrl=function(t){var e=t.indexOf("?"),n=t.substring(0,-1===e?t.length:e);return"/"!==n[n.length-1]&&(n+="/"),n+="negotiate",n+=-1===e?"":t.substring(e)},t}(),de="json",ve=function(){function t(){this.name=de,this.version=1,this.transferFormat=se.Text}return t.prototype.parseMessages=function(t,e){if("string"!=typeof t)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];null===e&&(e=$t.instance);for(var n=Yt.parse(t),r=[],o=0,i=n;o<i.length;o++){var s=i[o],u=JSON.parse(s);if("number"!=typeof u.type)throw new Error("Invalid payload.");switch(u.type){case Jt.Invocation:this.isInvocationMessage(u);break;case Jt.StreamItem:this.isStreamItemMessage(u);break;case Jt.Completion:this.isCompletionMessage(u);break;case Jt.Ping:case Jt.Close:break;default:e.log($.Information,"Unknown message type '"+u.type+"' ignored.");continue}r.push(u)}return r},t.prototype.writeMessage=function(t){return Yt.write(JSON.stringify(t))},t.prototype.isInvocationMessage=function(t){this.assertNotEmptyString(t.target,"Invalid payload for Invocation message."),void 0!==t.invocationId&&this.assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")},t.prototype.isStreamItemMessage=function(t){if(this.assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),void 0===t.item)throw new Error("Invalid payload for StreamItem message.")},t.prototype.isCompletionMessage=function(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this.assertNotEmptyString(t.error,"Invalid payload for Completion message."),this.assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")},t.prototype.assertNotEmptyString=function(t,e){if("string"!=typeof t||""===t)throw new Error(e)},t}(),ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ge=function(){function t(){}return t.prototype.configureLogging=function(t){return te.isRequired(t,"logging"),V(t)?this.logger=t:this.logger=new re(t),this},t.prototype.withUrl=function(t,e){return te.isRequired(t,"url"),this.url=t,"object"===(void 0===e?"undefined":ye(e))?this.httpConnectionOptions=e:this.httpConnectionOptions={transport:e},this},t.prototype.withHubProtocol=function(t){return te.isRequired(t,"protocol"),this.protocol=t,this},t.prototype.build=function(){var t=this.httpConnectionOptions||{};if(void 0===t.logger&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");var e=new le(this.url,t);return ie.create(e,this.logger||$t.instance,this.protocol||new ve)},t}(),_e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},me=function(t){return t.displayName||t.name||"Component"},be=function(t){return function(e){var n,r,i=t.hubName,s=void 0===i?"":i,u=t.baseAddress,a=void 0===u?"http://localhost:5555":u,c=t.accessToken,h=void 0===c?null:c,f=t.signalrPath,p=void 0===f?"signalr":f,l=t.retries,d=void 0===l?3:l,v=t.controller,y=void 0===v?s:v,g=(r=n=function(t){function n(e){Y(this,n);var r=Q(this,t.call(this,e));return r.count=function(t,e){return t+e.count()},r.addToGroup=function(t){var e=r.state.hub;if(e){var n=e.connection;n&&1===n.connectionState&&e.invoke("addToGroup",t).catch(function(e){console.error("Error: Adding client to group "+t+" in "+s+" failed.\n\n"+e)})}},r.removeFromGroup=function(t){var e=r.state.hub;if(e){var n=e.connection;if(n&&1===n.connectionState)return e.invoke("removeFromGroup",t).catch(function(e){console.error("Error: Removing client from group "+t+" in "+s+" failed.\n\n"+e)})}return Promise.resolve()},r.sendToController=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=r.props.baseUrl+"/"+y+"/"+t,o=e?e.toJS():null;return at.a.post(n,o).catch(function(t){console.error("Error: Sending data to "+y+" failed.\n\n"+t)})},r.invokeController=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=r.props.baseUrl+"/"+y+"/"+t,o=e?n+"/"+e:n;return at.a.get(o).catch(function(t){console.error("Error: Invoking "+y+" failed.\n\n"+t)})},r.handleError=function(t){var e=t.response,n=t.statusCode;switch((e||{}).status||n){case 500:break;case 401:r.oldToken=r.token;default:r.setState({hub:null})}},r.registerListener=function(t,e){var n=r.state,o=n.pending,i=n.active,s=n.moribund;r.moribund||(r.moribund=s||Object(Wt.Map)());var u=r.moribund.getIn([t],Object(Wt.Set)());if(u.has(e)){var a=u.filterNot(function(t){return t===e});r.moribund=a.size?r.moribund.setIn([t],a):r.moribund.delete(t)}if(r.active||(r.active=i||Object(Wt.Map)()),!r.active.getIn([t],Object(Wt.Set)()).has(e)){r.pending||(r.pending=o||Object(Wt.Map)());var c=r.pending.getIn([t],Object(Wt.Set)());c.has(e)||(r.pending=r.pending.setIn([t],c.add(e)))}r.pending===o&&r.moribund===s||r.setState({pending:r.pending,moribund:r.moribund})},r.unregisterListener=function(t,e){var n=r.state,o=n.pending,i=n.active,s=n.moribund;r.pending||(r.pending=o||Object(Wt.Map)());var u=r.pending.getIn([t],Object(Wt.Set)());if(u.has(e)){var a=u.filterNot(function(t){return t===e});r.pending=a.count()?r.pending.setIn([t],a):r.pending.delete(t)}if(r.active||(r.active=i||Object(Wt.Map)()),r.active.getIn([t],Object(Wt.Set)()).has(e)){r.moribund||(r.moribund=s||Object(Wt.Map)());var c=r.moribund.getIn([t],Object(Wt.Set)());c.has(e)||(r.moribund=r.moribund.setIn([t],c.add(e)))}r.pending===o&&r.moribund===s||r.setState({pending:r.pending,moribund:r.moribund})},r.state={hub:null,pending:void 0,active:void 0,moribund:void 0,retry:0,create:0},r}return Z(n,t),n.prototype.componentWillMount=function(){this.hubProxy={send:this.sendToController,invoke:this.invokeController,add:this.addToGroup,remove:this.removeFromGroup,connectionId:void 0,register:this.registerListener,unregister:this.unregisterListener}},n.prototype.componentDidMount=function(){this.createHub()},n.prototype.componentWillUpdate=function(t,e){if(this.state.hub!==e.hub)this.state.hub&&this.stopHub(this.state.hub,!1),e.hub?this.startHub(e.hub):this.createHub(e.create);else if(e.hub){var n=e.pending,r=e.moribund;r?this.moribund&&(r=r.mergeDeep(this.moribund)):r=this.moribund||Object(Wt.Map)();var o=r.reduce(this.count,0);o&&(this.moribund=this.inactivateListeners(this.state.hub,r)),n?this.pending&&(n=n.mergeDeep(this.pending)):n=this.pending||Object(Wt.Map)();var i=n.reduce(this.count,0);i&&(this.pending=this.activateListeners(e.hub,n))}else this.createHub(e.create)},n.prototype.componentWillUnmount=function(){this.stopHub(this.state.hub,!0)},n.prototype.createHub=function(){function t(t){return e.apply(this,arguments)}var e=X(regeneratorRuntime.mark(function t(e){var n,r,o,i,u,a,c,f,l=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.state,r=n.retry,o=n.create,!(r>d)){t.next=6;break}console.error("Error: Ran out of retries for starting "+s+"!"),this.setState({retry:0,create:0}),t.next=20;break;case 6:if(i=this.props,u=i.baseUrl,a=i.signalrActions,!u||!s){t.next=20;break}if(c=u,p&&(c=c+"/"+p),c=c+"/"+s,this.token=a.accessTokenFactory(h),!this.token){t.next=17;break}if(this.oldToken!==this.token){t.next=16;break}return(e||o)>d?console.warn("Warning: Unable to get up-to-date access token."):this.setState({hub:null,create:(e||o)+1}),t.abrupt("return");case 16:this.oldToken=void 0;case 17:f=(new ge).withUrl(c,{skipNegotiation:!0,transport:Zt.WebSockets,accessTokenFactory:function(){return l.token}}).build(),f.onclose=this.handleError,this.setState({hub:f,retry:r+1,create:0});case 20:case"end":return t.stop()}},t,this)}));return t}(),n.prototype.startHub=function(t){var e=this;t&&t.start().then(function(){var t=e.state,n=t.pending,r=t.active;e.pending||(e.pending=n||Object(Wt.Map)()),e.active||(e.active=r||Object(Wt.Map)()),e.setState({active:e.active,pending:e.pending,retry:0})}).catch(function(n){console.warn("Warning: Error while establishing connection to hub "+s+".\n\n"+n),t.stop(),e.handleError(n)})},n.prototype.stopHub=function(t,e){if(t){var n=[];e?(this.pending=void 0,n.push(this.removeFromGroup(""))):this.pending?this.state.active&&(this.pending=this.pending.mergeDeep(this.state.active)):this.pending=this.state.active,Promise.all(n).then(function(){t.stop()}),this.active=void 0,this.setState({pending:this.pending,active:this.active})}},n.prototype.activateListeners=function(t,e){var n=this,r=e;if(t&&e){var o=t.connection;if(o&&1===o.connectionState){var i=this.state.active;return this.active||(this.active=i||Object(Wt.Map)()),this.active.reduce(this.count,0)&&(r=r.mapEntries(function(t){var e=t[0],r=t[1],o=n.active.getIn([e]);return[e,o?r.filterNot(function(t){return o.has(t)}):r]})),r.mapEntries(function(e){var n=e[0];return e[1].map(function(e){return t.on(n,e)})}),this.active=this.active.mergeDeep(r),void this.setState({pending:void 0,active:this.active})}}return r},n.prototype.inactivateListeners=function(t,e){if(t&&e){e.mapEntries(function(e){var n=e[0];return e[1].map(function(e){return t.off(n,e)})});var n=this.state.active;return this.active||(this.active=n||Object(Wt.Map)()),this.active=this.active.mapEntries(function(t){var n=t[0],r=t[1],o=e.getIn([n]);return[n,o?r.filterNot(function(t){return o.has(t)}):r]}),void this.setState({active:this.active,moribund:void 0})}return e},n.prototype.render=function(){var t,n=this.props,r=(n.baseUrl,n.signalrActions,G(n,["baseUrl","signalrActions"])),o=(t={},t[s]=this.hubProxy,t);return st.a.createElement(e,_e({},r,o))},n}(st.a.PureComponent),n.WrappedComponent=e,r);g.displayName="InjectSignalR("+me(e)+")";var _=function(t,e){return"function"==typeof e?e(t):"string"==typeof e?e:""},m=function(t){return{signalrActions:o({accessTokenFactory:function(){return function(t,e){var n=e();return _(n,h)}}},t)}};return Lt(function(t){return{baseUrl:_(t,a)}},m)(g)}},we=be;n.d(e,"hubShape",function(){return ot}),n.d(e,"injectSignalR",function(){return we})},function(t,e,n){"use strict";function r(){}var o=n(6);t.exports=function(){function t(t,e,n,r,i,s){if(s!==o){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,n){t.exports=e},function(t,e,n){"use strict";(function(t,r){var o,i=n(10);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var s=Object(i.a)(o);e.a=s}).call(e,n(2),n(9)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}e.a=r},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n=Object.defineProperty,r=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,i=Object.getOwnPropertyDescriptor,s=Object.getPrototypeOf,u=s&&s(Object);return function a(c,h,f){if("string"!=typeof h){if(u){var p=s(h);p&&p!==u&&a(c,p,f)}var l=r(h);o&&(l=l.concat(o(h)));for(var d=0;d<l.length;++d){var v=l[d];if(!(t[v]||e[v]||f&&f[v])){var y=i(h,v);try{n(c,v,y)}catch(t){}}}return c}return c}})},function(t,e,n){"use strict";var r=function(t,e,n,r,o,i,s,u){if(!t){var a;if(void 0===e)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,s,u],h=0;a=new Error(e.replace(/%s/g,function(){return c[h++]})),a.name="Invariant Violation"}throw a.framesToPop=1,a}};t.exports=r},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(e,n(2))},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";function t(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function e(t){return i(t)?t:x(t)}function n(t){return s(t)?t:P(t)}function r(t){return u(t)?t:q(t)}function o(t){return i(t)&&!a(t)?t:z(t)}function i(t){return!(!t||!t[cn])}function s(t){return!(!t||!t[hn])}function u(t){return!(!t||!t[fn])}function a(t){return s(t)||u(t)}function c(t){return!(!t||!t[pn])}function h(t){return t.value=!1,t}function f(t){t&&(t.value=!0)}function p(){}function l(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),o=0;o<n;o++)r[o]=t[o+e];return r}function d(t){return void 0===t.size&&(t.size=t.__iterate(y)),t.size}function v(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?d(t)+e:e}function y(){return!0}function g(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function _(t,e){return b(t,e,0)}function m(t,e){return b(t,e,e)}function b(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function w(t){this.next=t}function S(t,e,n,r){var o=0===t?e:1===t?n:[e,n];return r?r.value=o:r={value:o,done:!1},r}function I(){return{value:void 0,done:!0}}function O(t){return!!T(t)}function E(t){return t&&"function"==typeof t.next}function k(t){var e=T(t);return e&&e.call(t)}function T(t){var e=t&&(Sn&&t[Sn]||t[In]);if("function"==typeof e)return e}function C(t){return t&&"number"==typeof t.length}function x(t){return null===t||void 0===t?U():i(t)?t.toSeq():W(t)}function P(t){return null===t||void 0===t?U().toKeyedSeq():i(t)?s(t)?t.toSeq():t.fromEntrySeq():N(t)}function q(t){return null===t||void 0===t?U():i(t)?s(t)?t.entrySeq():t.toIndexedSeq():L(t)}function z(t){return(null===t||void 0===t?U():i(t)?s(t)?t.entrySeq():t:L(t)).toSetSeq()}function M(t){this._array=t,this.size=t.length}function j(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function D(t){this._iterable=t,this.size=t.length||t.size}function R(t){this._iterator=t,this._iteratorCache=[]}function A(t){return!(!t||!t[En])}function U(){return kn||(kn=new M([]))}function N(t){var e=Array.isArray(t)?new M(t).fromEntrySeq():E(t)?new R(t).fromEntrySeq():O(t)?new D(t).fromEntrySeq():"object"==typeof t?new j(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function L(t){var e=H(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function W(t){var e=H(t)||"object"==typeof t&&new j(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function H(t){return C(t)?new M(t):E(t)?new R(t):O(t)?new D(t):void 0}function F(t,e,n,r){var o=t._cache;if(o){for(var i=o.length-1,s=0;s<=i;s++){var u=o[n?i-s:s];if(!1===e(u[1],r?u[0]:s,t))return s+1}return s}return t.__iterateUncached(e,n)}function B(t,e,n,r){var o=t._cache;if(o){var i=o.length-1,s=0;return new w(function(){var t=o[n?i-s:s];return s++>i?I():S(e,r?t[0]:s-1,t[1])})}return t.__iteratorUncached(e,n)}function K(t,e){return e?J(e,t,"",{"":t}):V(t)}function J(t,e,n,r){return Array.isArray(e)?t.call(r,n,q(e).map(function(n,r){return J(t,n,r,e)})):G(e)?t.call(r,n,P(e).map(function(n,r){return J(t,n,r,e)})):e}function V(t){return Array.isArray(t)?q(t).map(V).toList():G(t)?P(t).map(V).toMap():t}function G(t){return t&&(t.constructor===Object||void 0===t.constructor)}function X(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function Y(t,e){if(t===e)return!0;if(!i(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||s(t)!==s(e)||u(t)!==u(e)||c(t)!==c(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!a(t);if(c(t)){var r=t.entries();return e.every(function(t,e){var o=r.next().value;return o&&X(o[1],t)&&(n||X(o[0],e))})&&r.next().done}var o=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{o=!0;var h=t;t=e,e=h}var f=!0,p=e.__iterate(function(e,r){if(n?!t.has(e):o?!X(e,t.get(r,yn)):!X(t.get(r,yn),e))return f=!1,!1});return f&&t.size===p}function Q(t,e){if(!(this instanceof Q))return new Q(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(Tn)return Tn;Tn=this}}function Z(t,e){if(!t)throw new Error(e)}function $(t,e,n){if(!(this instanceof $))return new $(t,e,n);if(Z(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(Cn)return Cn;Cn=this}}function tt(){throw TypeError("Abstract")}function et(){}function nt(){}function rt(){}function ot(t){return t>>>1&1073741824|3221225471&t}function it(t){if(!1===t||null===t||void 0===t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null===t||void 0===t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){if(t!==t||t===1/0)return 0;var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)t/=4294967295,n^=t;return ot(n)}if("string"===e)return t.length>Rn?st(t):ut(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return at(t);if("function"==typeof t.toString)return ut(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function st(t){var e=Nn[t];return void 0===e&&(e=ut(t),Un===An&&(Un=0,Nn={}),Un++,Nn[t]=e),e}function ut(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return ot(e)}function at(t){var e;if(Mn&&void 0!==(e=xn.get(t)))return e;if(void 0!==(e=t[Dn]))return e;if(!zn){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Dn]))return e;if(void 0!==(e=ct(t)))return e}if(e=++jn,1073741824&jn&&(jn=0),Mn)xn.set(t,e);else{if(void 0!==qn&&!1===qn(t))throw new Error("Non-extensible objects are not allowed as keys.");if(zn)Object.defineProperty(t,Dn,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Dn]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Dn]=e}}return e}function ct(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function ht(t){Z(t!==1/0,"Cannot perform this action with an infinite size.")}function ft(t){return null===t||void 0===t?St():pt(t)&&!c(t)?t:St().withMutations(function(e){var r=n(t);ht(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function pt(t){return!(!t||!t[Ln])}function lt(t,e){this.ownerID=t,this.entries=e}function dt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function vt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function yt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function gt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function _t(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&bt(t._root)}function mt(t,e){return S(t,e[0],e[1])}function bt(t,e){return{node:t,index:0,__prev:e}}function wt(t,e,n,r){var o=Object.create(Wn);return o.size=t,o._root=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function St(){return Hn||(Hn=wt(0))}function It(t,e,n){var r,o;if(t._root){var i=h(gn),s=h(_n);if(r=Ot(t._root,t.__ownerID,0,void 0,e,n,i,s),!s.value)return t;o=t.size+(i.value?n===yn?-1:1:0)}else{if(n===yn)return t;o=1,r=new lt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=o,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?wt(o,r):St()}function Ot(t,e,n,r,o,i,s,u){return t?t.update(e,n,r,o,i,s,u):i===yn?t:(f(u),f(s),new gt(e,r,[o,i]))}function Et(t){return t.constructor===gt||t.constructor===yt}function kt(t,e,n,r,o){if(t.keyHash===r)return new yt(e,r,[t.entry,o]);var i,s=(0===n?t.keyHash:t.keyHash>>>n)&vn,u=(0===n?r:r>>>n)&vn;return new dt(e,1<<s|1<<u,s===u?[kt(t,e,n+ln,r,o)]:(i=new gt(e,r,o),s<u?[t,i]:[i,t]))}function Tt(t,e,n,r){t||(t=new p);for(var o=new gt(t,it(n),[n,r]),i=0;i<e.length;i++){var s=e[i];o=o.update(t,0,void 0,s[0],s[1])}return o}function Ct(t,e,n,r){for(var o=0,i=0,s=new Array(n),u=0,a=1,c=e.length;u<c;u++,a<<=1){var h=e[u];void 0!==h&&u!==r&&(o|=a,s[i++]=h)}return new dt(t,o,s)}function xt(t,e,n,r,o){for(var i=0,s=new Array(dn),u=0;0!==n;u++,n>>>=1)s[u]=1&n?e[i++]:void 0;return s[r]=o,new vt(t,i+1,s)}function Pt(t,e,r){for(var o=[],s=0;s<r.length;s++){var u=r[s],a=n(u);i(u)||(a=a.map(function(t){return K(t)})),o.push(a)}return Mt(t,e,o)}function qt(t,e,n){return t&&t.mergeDeep&&i(e)?t.mergeDeep(e):X(t,e)?t:e}function zt(t){return function(e,n,r){if(e&&e.mergeDeepWith&&i(n))return e.mergeDeepWith(t,n);var o=t(e,n,r);return X(e,o)?e:o}}function Mt(t,e,n){return n=n.filter(function(t){return 0!==t.size}),0===n.length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var r=e?function(n,r){t.update(r,yn,function(t){return t===yn?n:e(t,n,r)})}:function(e,n){t.set(n,e)},o=0;o<n.length;o++)n[o].forEach(r)}):t.constructor(n[0])}function jt(t,e,n,r){var o=t===yn,i=e.next();if(i.done){var s=o?n:t,u=r(s);return u===s?t:u}Z(o||t&&t.set,"invalid keyPath");var a=i.value,c=o?yn:t.get(a,yn),h=jt(c,e,n,r);return h===c?t:h===yn?t.remove(a):(o?St():t).set(a,h)}function Dt(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function Rt(t,e,n,r){var o=r?t:l(t);return o[e]=n,o}function At(t,e,n,r){var o=t.length+1;if(r&&e+1===o)return t[e]=n,t;for(var i=new Array(o),s=0,u=0;u<o;u++)u===e?(i[u]=n,s=-1):i[u]=t[u+s];return i}function Ut(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var o=new Array(r),i=0,s=0;s<r;s++)s===e&&(i=1),o[s]=t[s+i];return o}function Nt(t){var e=Bt();if(null===t||void 0===t)return e;if(Lt(t))return t;var n=r(t),o=n.size;return 0===o?e:(ht(o),o>0&&o<dn?Ft(0,o,ln,null,new Wt(n.toArray())):e.withMutations(function(t){t.setSize(o),n.forEach(function(e,n){return t.set(n,e)})}))}function Lt(t){return!(!t||!t[Jn])}function Wt(t,e){this.array=t,this.ownerID=e}function Ht(t,e){function n(t,e,n){return 0===e?r(t,n):o(t,e,n)}function r(t,n){var r=n===u?a&&a.array:t&&t.array,o=n>i?0:i-n,c=s-n;return c>dn&&(c=dn),function(){if(o===c)return Xn;var t=e?--c:o++;return r&&r[t]}}function o(t,r,o){var u,a=t&&t.array,c=o>i?0:i-o>>r,h=1+(s-o>>r);return h>dn&&(h=dn),function(){for(;;){if(u){var t=u();if(t!==Xn)return t;u=null}if(c===h)return Xn;var i=e?--h:c++;u=n(a&&a[i],r-ln,o+(i<<r))}}}var i=t._origin,s=t._capacity,u=Qt(s),a=t._tail;return n(t._root,t._level,0)}function Ft(t,e,n,r,o,i,s){var u=Object.create(Vn);return u.size=e-t,u._origin=t,u._capacity=e,u._level=n,u._root=r,u._tail=o,u.__ownerID=i,u.__hash=s,u.__altered=!1,u}function Bt(){return Gn||(Gn=Ft(0,0,ln))}function Kt(t,e,n){if((e=v(t,e))!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?Xt(t,e).set(0,n):Xt(t,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,o=t._root,i=h(_n);return e>=Qt(t._capacity)?r=Jt(r,t.__ownerID,0,e,n,i):o=Jt(o,t.__ownerID,t._level,e,n,i),i.value?t.__ownerID?(t._root=o,t._tail=r,t.__hash=void 0,t.__altered=!0,t):Ft(t._origin,t._capacity,t._level,o,r):t}function Jt(t,e,n,r,o,i){var s=r>>>n&vn,u=t&&s<t.array.length;if(!u&&void 0===o)return t;var a;if(n>0){var c=t&&t.array[s],h=Jt(c,e,n-ln,r,o,i);return h===c?t:(a=Vt(t,e),a.array[s]=h,a)}return u&&t.array[s]===o?t:(f(i),a=Vt(t,e),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function Vt(t,e){return e&&t&&e===t.ownerID?t:new Wt(t?t.array.slice():[],e)}function Gt(t,e){if(e>=Qt(t._capacity))return t._tail;if(e<1<<t._level+ln){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&vn],r-=ln;return n}}function Xt(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new p,o=t._origin,i=t._capacity,s=o+e,u=void 0===n?i:n<0?i+n:o+n;if(s===o&&u===i)return t;if(s>=u)return t.clear();for(var a=t._level,c=t._root,h=0;s+h<0;)c=new Wt(c&&c.array.length?[void 0,c]:[],r),a+=ln,h+=1<<a;h&&(s+=h,o+=h,u+=h,i+=h);for(var f=Qt(i),l=Qt(u);l>=1<<a+ln;)c=new Wt(c&&c.array.length?[c]:[],r),a+=ln;var d=t._tail,v=l<f?Gt(t,u-1):l>f?new Wt([],r):d;if(d&&l>f&&s<i&&d.array.length){c=Vt(c,r);for(var y=c,g=a;g>ln;g-=ln){var _=f>>>g&vn;y=y.array[_]=Vt(y.array[_],r)}y.array[f>>>ln&vn]=d}if(u<i&&(v=v&&v.removeAfter(r,0,u)),s>=l)s-=l,u-=l,a=ln,c=null,v=v&&v.removeBefore(r,0,s);else if(s>o||l<f){for(h=0;c;){var m=s>>>a&vn;if(m!==l>>>a&vn)break;m&&(h+=(1<<a)*m),a-=ln,c=c.array[m]}c&&s>o&&(c=c.removeBefore(r,a,s-h)),c&&l<f&&(c=c.removeAfter(r,a,l-h)),h&&(s-=h,u-=h)}return t.__ownerID?(t.size=u-s,t._origin=s,t._capacity=u,t._level=a,t._root=c,t._tail=v,t.__hash=void 0,t.__altered=!0,t):Ft(s,u,a,c,v)}function Yt(t,e,n){for(var o=[],s=0,u=0;u<n.length;u++){var a=n[u],c=r(a);c.size>s&&(s=c.size),i(a)||(c=c.map(function(t){return K(t)})),o.push(c)}return s>t.size&&(t=t.setSize(s)),Mt(t,e,o)}function Qt(t){return t<dn?0:t-1>>>ln<<ln}function Zt(t){return null===t||void 0===t?ee():$t(t)?t:ee().withMutations(function(e){var r=n(t);ht(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function $t(t){return pt(t)&&c(t)}function te(t,e,n,r){var o=Object.create(Zt.prototype);return o.size=t?t.size:0,o._map=t,o._list=e,o.__ownerID=n,o.__hash=r,o}function ee(){return Yn||(Yn=te(St(),Bt()))}function ne(t,e,n){var r,o,i=t._map,s=t._list,u=i.get(e),a=void 0!==u;if(n===yn){if(!a)return t;s.size>=dn&&s.size>=2*i.size?(o=s.filter(function(t,e){return void 0!==t&&u!==e}),r=o.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=o.__ownerID=t.__ownerID)):(r=i.remove(e),o=u===s.size-1?s.pop():s.set(u,void 0))}else if(a){if(n===s.get(u)[1])return t;r=i,o=s.set(u,[e,n])}else r=i.set(e,s.size),o=s.set(s.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=o,t.__hash=void 0,t):te(r,o)}function re(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function oe(t){this._iter=t,this.size=t.size}function ie(t){this._iter=t,this.size=t.size}function se(t){this._iter=t,this.size=t.size}function ue(t){var e=Ce(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=xe,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return!1!==e(n,t,r)},n)},e.__iteratorUncached=function(e,n){if(e===wn){var r=t.__iterator(e,n);return new w(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===bn?mn:bn,n)},e}function ae(t,e,n){var r=Ce(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,o){var i=t.get(r,yn);return i===yn?o:e.call(n,i,r,t)},r.__iterateUncached=function(r,o){var i=this;return t.__iterate(function(t,o,s){return!1!==r(e.call(n,t,o,s),o,i)},o)},r.__iteratorUncached=function(r,o){var i=t.__iterator(wn,o);return new w(function(){var o=i.next();if(o.done)return o;var s=o.value,u=s[0];return S(r,u,e.call(n,s[1],u,t),o)})},r}function ce(t,e){var n=Ce(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=ue(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=xe,n.__iterate=function(e,n){var r=this;return t.__iterate(function(t,n){return e(t,n,r)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function he(t,e,n,r){var o=Ce(t);return r&&(o.has=function(r){var o=t.get(r,yn);return o!==yn&&!!e.call(n,o,r,t)},o.get=function(r,o){var i=t.get(r,yn);return i!==yn&&e.call(n,i,r,t)?i:o}),o.__iterateUncached=function(o,i){var s=this,u=0;return t.__iterate(function(t,i,a){if(e.call(n,t,i,a))return u++,o(t,r?i:u-1,s)},i),u},o.__iteratorUncached=function(o,i){var s=t.__iterator(wn,i),u=0;return new w(function(){for(;;){var i=s.next();if(i.done)return i;var a=i.value,c=a[0],h=a[1];if(e.call(n,h,c,t))return S(o,r?c:u++,h,i)}})},o}function fe(t,e,n){var r=ft().asMutable();return t.__iterate(function(o,i){r.update(e.call(n,o,i,t),0,function(t){return t+1})}),r.asImmutable()}function pe(t,e,n){var r=s(t),o=(c(t)?Zt():ft()).asMutable();t.__iterate(function(i,s){o.update(e.call(n,i,s,t),function(t){return t=t||[],t.push(r?[s,i]:i),t})});var i=Te(t);return o.map(function(e){return Oe(t,i(e))})}function le(t,e,n,r){var o=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n===1/0?n=o:n|=0),g(e,n,o))return t;var i=_(e,o),s=m(n,o);if(i!==i||s!==s)return le(t.toSeq().cacheResult(),e,n,r);var u,a=s-i;a===a&&(u=a<0?0:a);var c=Ce(t);return c.size=0===u?u:t.size&&u||void 0,!r&&A(t)&&u>=0&&(c.get=function(e,n){return e=v(this,e),e>=0&&e<u?t.get(e+i,n):n}),c.__iterateUncached=function(e,n){var o=this;if(0===u)return 0;if(n)return this.cacheResult().__iterate(e,n);var s=0,a=!0,c=0;return t.__iterate(function(t,n){if(!a||!(a=s++<i))return c++,!1!==e(t,r?n:c-1,o)&&c!==u}),c},c.__iteratorUncached=function(e,n){if(0!==u&&n)return this.cacheResult().__iterator(e,n);var o=0!==u&&t.__iterator(e,n),s=0,a=0;return new w(function(){for(;s++<i;)o.next();if(++a>u)return I();var t=o.next();return r||e===bn?t:e===mn?S(e,a-1,void 0,t):S(e,a-1,t.value[1],t)})},c}function de(t,e,n){var r=Ce(t);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var s=0;return t.__iterate(function(t,o,u){return e.call(n,t,o,u)&&++s&&r(t,o,i)}),s},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var s=t.__iterator(wn,o),u=!0;return new w(function(){if(!u)return I();var t=s.next();if(t.done)return t;var o=t.value,a=o[0],c=o[1];return e.call(n,c,a,i)?r===wn?t:S(r,a,c,t):(u=!1,I())})},r}function ve(t,e,n,r){var o=Ce(t);return o.__iterateUncached=function(o,i){var s=this;if(i)return this.cacheResult().__iterate(o,i);var u=!0,a=0;return t.__iterate(function(t,i,c){if(!u||!(u=e.call(n,t,i,c)))return a++,o(t,r?i:a-1,s)}),a},o.__iteratorUncached=function(o,i){var s=this;if(i)return this.cacheResult().__iterator(o,i);var u=t.__iterator(wn,i),a=!0,c=0;return new w(function(){var t,i,h;do{if(t=u.next(),t.done)return r||o===bn?t:o===mn?S(o,c++,void 0,t):S(o,c++,t.value[1],t);var f=t.value;i=f[0],h=f[1],a&&(a=e.call(n,h,i,s))}while(a);return o===wn?t:S(o,i,h,t)})},o}function ye(t,e){var r=s(t),o=[t].concat(e).map(function(t){return i(t)?r&&(t=n(t)):t=r?N(t):L(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===o.length)return t;if(1===o.length){var a=o[0];if(a===t||r&&s(a)||u(t)&&u(a))return a}var c=new M(o);return r?c=c.toKeyedSeq():u(t)||(c=c.toSetSeq()),c=c.flatten(!0),c.size=o.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),c}function ge(t,e,n){var r=Ce(t);return r.__iterateUncached=function(r,o){function s(t,c){var h=this;t.__iterate(function(t,o){return(!e||c<e)&&i(t)?s(t,c+1):!1===r(t,n?o:u++,h)&&(a=!0),!a},o)}var u=0,a=!1;return s(t,0),u},r.__iteratorUncached=function(r,o){var s=t.__iterator(r,o),u=[],a=0;return new w(function(){for(;s;){var t=s.next();if(!1===t.done){var c=t.value;if(r===wn&&(c=c[1]),e&&!(u.length<e)||!i(c))return n?t:S(r,a++,c,t);u.push(s),s=c.__iterator(r,o)}else s=u.pop()}return I()})},r}function _e(t,e,n){var r=Te(t);return t.toSeq().map(function(o,i){return r(e.call(n,o,i,t))}).flatten(!0)}function me(t,e){var n=Ce(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return t.__iterate(function(t,r){return(!i||!1!==n(e,i++,o))&&!1!==n(t,i++,o)},r),i},n.__iteratorUncached=function(n,r){var o,i=t.__iterator(bn,r),s=0;return new w(function(){return(!o||s%2)&&(o=i.next(),o.done)?o:s%2?S(n,s++,e):S(n,s++,o.value,o)})},n}function be(t,e,n){e||(e=Pe);var r=s(t),o=0,i=t.toSeq().map(function(e,r){return[r,e,o++,n?n(e,r,t):e]}).toArray();return i.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){i[e].length=2}:function(t,e){i[e]=t[1]}),r?P(i):u(t)?q(i):z(i)}function we(t,e,n){if(e||(e=Pe),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return Se(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return Se(e,t,n)?n:t})}function Se(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function Ie(t,n,r){var o=Ce(t);return o.size=new M(r).map(function(t){return t.size}).min(),o.__iterate=function(t,e){for(var n,r=this.__iterator(bn,e),o=0;!(n=r.next()).done&&!1!==t(n.value,o++,this););return o},o.__iteratorUncached=function(t,o){var i=r.map(function(t){return t=e(t),k(o?t.reverse():t)}),s=0,u=!1;return new w(function(){var e;return u||(e=i.map(function(t){return t.next()}),u=e.some(function(t){return t.done})),u?I():S(t,s++,n.apply(null,e.map(function(t){return t.value})))})},o}function Oe(t,e){return A(t)?e:t.constructor(e)}function Ee(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function ke(t){return ht(t.size),d(t)}function Te(t){return s(t)?n:u(t)?r:o}function Ce(t){return Object.create((s(t)?P:u(t)?q:z).prototype)}function xe(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):x.prototype.cacheResult.call(this)}function Pe(t,e){return t>e?1:t<e?-1:0}function qe(t){var n=k(t);if(!n){if(!C(t))throw new TypeError("Expected iterable or array-like: "+t);n=k(e(t))}return n}function ze(t,e){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var s=Object.keys(t);De(o,s),o.size=s.length,o._name=e,o._keys=s,o._defaultValues=t}this._map=ft(i)},o=r.prototype=Object.create(Qn);return o.constructor=r,r}function Me(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function je(t){return t._name||t.constructor.name||"Record"}function De(t,e){try{e.forEach(Re.bind(void 0,t))}catch(t){}}function Re(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){Z(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Ae(t){return null===t||void 0===t?We():Ue(t)&&!c(t)?t:We().withMutations(function(e){var n=o(t);ht(n.size),n.forEach(function(t){return e.add(t)})})}function Ue(t){return!(!t||!t[Zn])}function Ne(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Le(t,e){var n=Object.create($n);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function We(){return tr||(tr=Le(St()))}function He(t){return null===t||void 0===t?Ke():Fe(t)?t:Ke().withMutations(function(e){var n=o(t);ht(n.size),n.forEach(function(t){return e.add(t)})})}function Fe(t){return Ue(t)&&c(t)}function Be(t,e){var n=Object.create(er);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Ke(){return nr||(nr=Be(ee()))}function Je(t){return null===t||void 0===t?Xe():Ve(t)?t:Xe().unshiftAll(t)}function Ve(t){return!(!t||!t[rr])}function Ge(t,e,n,r){var o=Object.create(or);return o.size=t,o._head=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Xe(){return ir||(ir=Ge(0))}function Ye(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Qe(t,e){return e}function Ze(t,e){return[e,t]}function $e(t){return function(){return!t.apply(this,arguments)}}function tn(t){return function(){return-t.apply(this,arguments)}}function en(t){return"string"==typeof t?JSON.stringify(t):String(t)}function nn(){return l(arguments)}function rn(t,e){return t<e?1:t>e?-1:0}function on(t){if(t.size===1/0)return 0;var e=c(t),n=s(t),r=e?1:0;return sn(t.__iterate(n?e?function(t,e){r=31*r+un(it(t),it(e))|0}:function(t,e){r=r+un(it(t),it(e))|0}:e?function(t){r=31*r+it(t)|0}:function(t){r=r+it(t)|0}),r)}function sn(t,e){return e=Pn(e,3432918353),e=Pn(e<<15|e>>>-15,461845907),e=Pn(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Pn(e^e>>>16,2246822507),e=Pn(e^e>>>13,3266489909),e=ot(e^e>>>16)}function un(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var an=Array.prototype.slice;t(n,e),t(r,e),t(o,e),e.isIterable=i,e.isKeyed=s,e.isIndexed=u,e.isAssociative=a,e.isOrdered=c,e.Keyed=n,e.Indexed=r,e.Set=o;var cn="@@__IMMUTABLE_ITERABLE__@@",hn="@@__IMMUTABLE_KEYED__@@",fn="@@__IMMUTABLE_INDEXED__@@",pn="@@__IMMUTABLE_ORDERED__@@",ln=5,dn=1<<ln,vn=dn-1,yn={},gn={value:!1},_n={value:!1},mn=0,bn=1,wn=2,Sn="function"==typeof Symbol&&Symbol.iterator,In="@@iterator",On=Sn||In;w.prototype.toString=function(){return"[Iterator]"},w.KEYS=mn,w.VALUES=bn,w.ENTRIES=wn,w.prototype.inspect=w.prototype.toSource=function(){return this.toString()},w.prototype[On]=function(){return this},t(x,e),x.of=function(){return x(arguments)},x.prototype.toSeq=function(){return this},x.prototype.toString=function(){return this.__toString("Seq {","}")},x.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},x.prototype.__iterate=function(t,e){return F(this,t,e,!0)},x.prototype.__iterator=function(t,e){return B(this,t,e,!0)},t(P,x),P.prototype.toKeyedSeq=function(){return this},t(q,x),q.of=function(){return q(arguments)},q.prototype.toIndexedSeq=function(){return this},q.prototype.toString=function(){return this.__toString("Seq [","]")},q.prototype.__iterate=function(t,e){return F(this,t,e,!1)},q.prototype.__iterator=function(t,e){return B(this,t,e,!1)},t(z,x),z.of=function(){return z(arguments)},z.prototype.toSetSeq=function(){return this},x.isSeq=A,x.Keyed=P,x.Set=z,x.Indexed=q;var En="@@__IMMUTABLE_SEQ__@@";x.prototype[En]=!0,t(M,q),M.prototype.get=function(t,e){return this.has(t)?this._array[v(this,t)]:e},M.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===t(n[e?r-o:o],o,this))return o+1;return o},M.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,o=0;return new w(function(){return o>r?I():S(t,o,n[e?r-o++:o++])})},t(j,P),j.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},j.prototype.has=function(t){return this._object.hasOwnProperty(t)},j.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var s=r[e?o-i:i];if(!1===t(n[s],s,this))return i+1}return i},j.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,o=r.length-1,i=0;return new w(function(){var s=r[e?o-i:i];return i++>o?I():S(t,s,n[s])})},j.prototype[pn]=!0,t(D,q),D.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=this._iterable,r=k(n),o=0;if(E(r))for(var i;!(i=r.next()).done&&!1!==t(i.value,o++,this););return o},D.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable,r=k(n);if(!E(r))return new w(I);var o=0;return new w(function(){var e=r.next();return e.done?e:S(t,o++,e.value)})},t(R,q),R.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n=this._iterator,r=this._iteratorCache,o=0;o<r.length;)if(!1===t(r[o],o++,this))return o;for(var i;!(i=n.next()).done;){var s=i.value;if(r[o]=s,!1===t(s,o++,this))break}return o},R.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,o=0;return new w(function(){if(o>=r.length){var e=n.next();if(e.done)return e;r[o]=e.value}return S(t,o,r[o++])})};var kn;t(Q,q),Q.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Q.prototype.get=function(t,e){return this.has(t)?this._value:e},Q.prototype.includes=function(t){return X(this._value,t)},Q.prototype.slice=function(t,e){var n=this.size;return g(t,e,n)?this:new Q(this._value,m(e,n)-_(t,n))},Q.prototype.reverse=function(){return this},Q.prototype.indexOf=function(t){return X(this._value,t)?0:-1},Q.prototype.lastIndexOf=function(t){return X(this._value,t)?this.size:-1},Q.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},Q.prototype.__iterator=function(t,e){var n=this,r=0;return new w(function(){return r<n.size?S(t,r++,n._value):I()})},Q.prototype.equals=function(t){return t instanceof Q?X(this._value,t._value):Y(t)};var Tn;t($,q),$.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},$.prototype.get=function(t,e){return this.has(t)?this._start+v(this,t)*this._step:e},$.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},$.prototype.slice=function(t,e){return g(t,e,this.size)?this:(t=_(t,this.size),e=m(e,this.size),e<=t?new $(0,0):new $(this.get(t,this._end),this.get(e,this._end),this._step))},$.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},$.prototype.lastIndexOf=function(t){return this.indexOf(t)},$.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,o=e?this._start+n*r:this._start,i=0;i<=n;i++){if(!1===t(o,i,this))return i+1;o+=e?-r:r}return i},$.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,o=e?this._start+n*r:this._start,i=0;return new w(function(){var s=o;return o+=e?-r:r,i>n?I():S(t,i++,s)})},$.prototype.equals=function(t){return t instanceof $?this._start===t._start&&this._end===t._end&&this._step===t._step:Y(this,t)};var Cn;t(tt,e),t(et,tt),t(nt,tt),t(rt,tt),tt.Keyed=et,tt.Indexed=nt,tt.Set=rt;var xn,Pn="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){t|=0,e|=0;var n=65535&t,r=65535&e;return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0},qn=Object.isExtensible,zn=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),Mn="function"==typeof WeakMap;Mn&&(xn=new WeakMap);var jn=0,Dn="__immutablehash__";"function"==typeof Symbol&&(Dn=Symbol(Dn));var Rn=16,An=255,Un=0,Nn={};t(ft,et),ft.of=function(){var t=an.call(arguments,0);return St().withMutations(function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}})},ft.prototype.toString=function(){return this.__toString("Map {","}")},ft.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},ft.prototype.set=function(t,e){return It(this,t,e)},ft.prototype.setIn=function(t,e){return this.updateIn(t,yn,function(){return e})},ft.prototype.remove=function(t){return It(this,t,yn)},ft.prototype.deleteIn=function(t){return this.updateIn(t,function(){return yn})},ft.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},ft.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=jt(this,qe(t),e,n);return r===yn?void 0:r},ft.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):St()},ft.prototype.merge=function(){return Pt(this,void 0,arguments)},ft.prototype.mergeWith=function(t){return Pt(this,t,an.call(arguments,1))},ft.prototype.mergeIn=function(t){var e=an.call(arguments,1);return this.updateIn(t,St(),function(t){return"function"==typeof t.merge?t.merge.apply(t,e):e[e.length-1]})},ft.prototype.mergeDeep=function(){return Pt(this,qt,arguments)},ft.prototype.mergeDeepWith=function(t){var e=an.call(arguments,1);return Pt(this,zt(t),e)},ft.prototype.mergeDeepIn=function(t){var e=an.call(arguments,1);return this.updateIn(t,St(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,e):e[e.length-1]})},ft.prototype.sort=function(t){return Zt(be(this,t))},ft.prototype.sortBy=function(t,e){return Zt(be(this,e,t))},ft.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},ft.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new p)},ft.prototype.asImmutable=function(){return this.__ensureOwner()},ft.prototype.wasAltered=function(){return this.__altered},ft.prototype.__iterator=function(t,e){return new _t(this,t,e)},ft.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},ft.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?wt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},ft.isMap=pt;var Ln="@@__IMMUTABLE_MAP__@@",Wn=ft.prototype;Wn[Ln]=!0,Wn.delete=Wn.remove,Wn.removeIn=Wn.deleteIn,lt.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,s=o.length;i<s;i++)if(X(n,o[i][0]))return o[i][1];return r},lt.prototype.update=function(t,e,n,r,o,i,s){for(var u=o===yn,a=this.entries,c=0,h=a.length;c<h&&!X(r,a[c][0]);c++);var p=c<h;if(p?a[c][1]===o:u)return this;if(f(s),(u||!p)&&f(i),!u||1!==a.length){if(!p&&!u&&a.length>=Fn)return Tt(t,a,r,o);var d=t&&t===this.ownerID,v=d?a:l(a);return p?u?c===h-1?v.pop():v[c]=v.pop():v[c]=[r,o]:v.push([r,o]),d?(this.entries=v,this):new lt(t,v)}},dt.prototype.get=function(t,e,n,r){void 0===e&&(e=it(n));var o=1<<((0===t?e:e>>>t)&vn),i=this.bitmap;return 0==(i&o)?r:this.nodes[Dt(i&o-1)].get(t+ln,e,n,r)},dt.prototype.update=function(t,e,n,r,o,i,s){void 0===n&&(n=it(r));var u=(0===e?n:n>>>e)&vn,a=1<<u,c=this.bitmap,h=0!=(c&a);if(!h&&o===yn)return this;var f=Dt(c&a-1),p=this.nodes,l=h?p[f]:void 0,d=Ot(l,t,e+ln,n,r,o,i,s);if(d===l)return this;if(!h&&d&&p.length>=Bn)return xt(t,p,c,u,d);if(h&&!d&&2===p.length&&Et(p[1^f]))return p[1^f];if(h&&d&&1===p.length&&Et(d))return d;var v=t&&t===this.ownerID,y=h?d?c:c^a:c|a,g=h?d?Rt(p,f,d,v):Ut(p,f,v):At(p,f,d,v);return v?(this.bitmap=y,this.nodes=g,this):new dt(t,y,g)},vt.prototype.get=function(t,e,n,r){void 0===e&&(e=it(n));var o=(0===t?e:e>>>t)&vn,i=this.nodes[o];return i?i.get(t+ln,e,n,r):r},vt.prototype.update=function(t,e,n,r,o,i,s){void 0===n&&(n=it(r));var u=(0===e?n:n>>>e)&vn,a=o===yn,c=this.nodes,h=c[u];if(a&&!h)return this;var f=Ot(h,t,e+ln,n,r,o,i,s);if(f===h)return this;var p=this.count;if(h){if(!f&&--p<Kn)return Ct(t,c,p,u)}else p++;var l=t&&t===this.ownerID,d=Rt(c,u,f,l);return l?(this.count=p,this.nodes=d,this):new vt(t,p,d)},yt.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,s=o.length;i<s;i++)if(X(n,o[i][0]))return o[i][1];return r},yt.prototype.update=function(t,e,n,r,o,i,s){void 0===n&&(n=it(r));var u=o===yn;if(n!==this.keyHash)return u?this:(f(s),f(i),kt(this,t,e,n,[r,o]));for(var a=this.entries,c=0,h=a.length;c<h&&!X(r,a[c][0]);c++);var p=c<h;if(p?a[c][1]===o:u)return this;if(f(s),(u||!p)&&f(i),u&&2===h)return new gt(t,this.keyHash,a[1^c]);var d=t&&t===this.ownerID,v=d?a:l(a);return p?u?c===h-1?v.pop():v[c]=v.pop():v[c]=[r,o]:v.push([r,o]),d?(this.entries=v,this):new yt(t,this.keyHash,v)},gt.prototype.get=function(t,e,n,r){return X(n,this.entry[0])?this.entry[1]:r},gt.prototype.update=function(t,e,n,r,o,i,s){var u=o===yn,a=X(r,this.entry[0]);return(a?o===this.entry[1]:u)?this:(f(s),u?void f(i):a?t&&t===this.ownerID?(this.entry[1]=o,this):new gt(t,this.keyHash,[r,o]):(f(i),kt(this,t,e,it(r),[r,o])))},lt.prototype.iterate=yt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===t(n[e?o-r:r]))return!1},dt.prototype.iterate=vt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[e?o-r:r];if(i&&!1===i.iterate(t,e))return!1}},gt.prototype.iterate=function(t,e){return t(this.entry)},t(_t,w),_t.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,o=e.index++;if(r.entry){if(0===o)return mt(t,r.entry)}else if(r.entries){if(n=r.entries.length-1,o<=n)return mt(t,r.entries[this._reverse?n-o:o])}else if(n=r.nodes.length-1,o<=n){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return mt(t,i.entry);e=this._stack=bt(i,e)}continue}e=this._stack=this._stack.__prev}return I()};var Hn,Fn=dn/4,Bn=dn/2,Kn=dn/4;t(Nt,nt),Nt.of=function(){return this(arguments)},Nt.prototype.toString=function(){return this.__toString("List [","]")},Nt.prototype.get=function(t,e){if((t=v(this,t))>=0&&t<this.size){t+=this._origin;var n=Gt(this,t);return n&&n.array[t&vn]}return e},Nt.prototype.set=function(t,e){return Kt(this,t,e)},Nt.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Nt.prototype.insert=function(t,e){return this.splice(t,0,e)},Nt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=ln,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Bt()},Nt.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){Xt(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},Nt.prototype.pop=function(){return Xt(this,0,-1)},Nt.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){Xt(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},Nt.prototype.shift=function(){return Xt(this,1)},Nt.prototype.merge=function(){return Yt(this,void 0,arguments)},Nt.prototype.mergeWith=function(t){return Yt(this,t,an.call(arguments,1))},Nt.prototype.mergeDeep=function(){return Yt(this,qt,arguments)},Nt.prototype.mergeDeepWith=function(t){var e=an.call(arguments,1);return Yt(this,zt(t),e)},Nt.prototype.setSize=function(t){return Xt(this,0,t)},Nt.prototype.slice=function(t,e){var n=this.size;return g(t,e,n)?this:Xt(this,_(t,n),m(e,n))},Nt.prototype.__iterator=function(t,e){var n=0,r=Ht(this,e);return new w(function(){var e=r();return e===Xn?I():S(t,n++,e)})},Nt.prototype.__iterate=function(t,e){for(var n,r=0,o=Ht(this,e);(n=o())!==Xn&&!1!==t(n,r++,this););return r},Nt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ft(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Nt.isList=Lt;var Jn="@@__IMMUTABLE_LIST__@@",Vn=Nt.prototype;Vn[Jn]=!0,Vn.delete=Vn.remove,Vn.setIn=Wn.setIn,Vn.deleteIn=Vn.removeIn=Wn.removeIn,Vn.update=Wn.update,Vn.updateIn=Wn.updateIn,Vn.mergeIn=Wn.mergeIn,Vn.mergeDeepIn=Wn.mergeDeepIn,Vn.withMutations=Wn.withMutations,Vn.asMutable=Wn.asMutable,Vn.asImmutable=Wn.asImmutable,Vn.wasAltered=Wn.wasAltered,Wt.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&vn;if(r>=this.array.length)return new Wt([],t);var o,i=0===r;if(e>0){var s=this.array[r];if((o=s&&s.removeBefore(t,e-ln,n))===s&&i)return this}if(i&&!o)return this;var u=Vt(this,t);if(!i)for(var a=0;a<r;a++)u.array[a]=void 0;return o&&(u.array[r]=o),u},Wt.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r=n-1>>>e&vn;if(r>=this.array.length)return this;var o;if(e>0){var i=this.array[r];if((o=i&&i.removeAfter(t,e-ln,n))===i&&r===this.array.length-1)return this}var s=Vt(this,t);return s.array.splice(r+1),o&&(s.array[r]=o),s};var Gn,Xn={};t(Zt,ft),Zt.of=function(){return this(arguments)},Zt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Zt.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Zt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ee()},Zt.prototype.set=function(t,e){return ne(this,t,e)},Zt.prototype.remove=function(t){return ne(this,t,yn)},Zt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Zt.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Zt.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Zt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?te(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Zt.isOrderedMap=$t,Zt.prototype[pn]=!0,Zt.prototype.delete=Zt.prototype.remove;var Yn;t(re,P),re.prototype.get=function(t,e){return this._iter.get(t,e)},re.prototype.has=function(t){return this._iter.has(t)},re.prototype.valueSeq=function(){return this._iter.valueSeq()},re.prototype.reverse=function(){var t=this,e=ce(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},re.prototype.map=function(t,e){var n=this,r=ae(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},re.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?ke(this):0,function(o){return t(o,e?--n:n++,r)}),e)},re.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(bn,e),r=e?ke(this):0;return new w(function(){var o=n.next();return o.done?o:S(t,e?--r:r++,o.value,o)})},re.prototype[pn]=!0,t(oe,q),oe.prototype.includes=function(t){return this._iter.includes(t)},oe.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},oe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(bn,e),r=0;return new w(function(){var e=n.next();return e.done?e:S(t,r++,e.value,e)})},t(ie,z),ie.prototype.has=function(t){return this._iter.includes(t)},ie.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},ie.prototype.__iterator=function(t,e){var n=this._iter.__iterator(bn,e);return new w(function(){var e=n.next();return e.done?e:S(t,e.value,e.value,e)})},t(se,P),se.prototype.entrySeq=function(){return this._iter.toSeq()},se.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){Ee(e);var r=i(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},se.prototype.__iterator=function(t,e){var n=this._iter.__iterator(bn,e);return new w(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Ee(r);var o=i(r);return S(t,o?r.get(0):r[0],o?r.get(1):r[1],e)}}})},oe.prototype.cacheResult=re.prototype.cacheResult=ie.prototype.cacheResult=se.prototype.cacheResult=xe,t(ze,et),ze.prototype.toString=function(){return this.__toString(je(this)+" {","}")},ze.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},ze.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},ze.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=Me(this,St()))},ze.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+je(this));if(this._map&&!this._map.has(t)){if(e===this._defaultValues[t])return this}var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:Me(this,n)},ze.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:Me(this,e)},ze.prototype.wasAltered=function(){return this._map.wasAltered()},ze.prototype.__iterator=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterator(t,e)},ze.prototype.__iterate=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterate(t,e)},ze.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?Me(this,e,t):(this.__ownerID=t,this._map=e,this)};var Qn=ze.prototype;Qn.delete=Qn.remove,Qn.deleteIn=Qn.removeIn=Wn.removeIn,Qn.merge=Wn.merge,Qn.mergeWith=Wn.mergeWith,Qn.mergeIn=Wn.mergeIn,Qn.mergeDeep=Wn.mergeDeep,Qn.mergeDeepWith=Wn.mergeDeepWith,Qn.mergeDeepIn=Wn.mergeDeepIn,Qn.setIn=Wn.setIn,Qn.update=Wn.update,Qn.updateIn=Wn.updateIn,Qn.withMutations=Wn.withMutations,Qn.asMutable=Wn.asMutable,Qn.asImmutable=Wn.asImmutable,t(Ae,rt),Ae.of=function(){return this(arguments)},Ae.fromKeys=function(t){return this(n(t).keySeq())},Ae.prototype.toString=function(){return this.__toString("Set {","}")},Ae.prototype.has=function(t){return this._map.has(t)},Ae.prototype.add=function(t){return Ne(this,this._map.set(t,!0))},Ae.prototype.remove=function(t){return Ne(this,this._map.remove(t))},Ae.prototype.clear=function(){return Ne(this,this._map.clear())},Ae.prototype.union=function(){var t=an.call(arguments,0);return t=t.filter(function(t){return 0!==t.size}),0===t.length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)o(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},Ae.prototype.intersect=function(){var t=an.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return o(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.every(function(t){return t.includes(e)})||n.remove(e)})})},Ae.prototype.subtract=function(){var t=an.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return o(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.some(function(t){return t.includes(e)})&&n.remove(e)})})},Ae.prototype.merge=function(){return this.union.apply(this,arguments)},Ae.prototype.mergeWith=function(t){var e=an.call(arguments,1);return this.union.apply(this,e)},Ae.prototype.sort=function(t){return He(be(this,t))},Ae.prototype.sortBy=function(t,e){return He(be(this,e,t))},Ae.prototype.wasAltered=function(){return this._map.wasAltered()},Ae.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,r){return t(r,r,n)},e)},Ae.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},Ae.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Ae.isSet=Ue;var Zn="@@__IMMUTABLE_SET__@@",$n=Ae.prototype;$n[Zn]=!0,$n.delete=$n.remove,$n.mergeDeep=$n.merge,$n.mergeDeepWith=$n.mergeWith,$n.withMutations=Wn.withMutations,$n.asMutable=Wn.asMutable,$n.asImmutable=Wn.asImmutable,$n.__empty=We,$n.__make=Le;var tr;t(He,Ae),He.of=function(){return this(arguments)},He.fromKeys=function(t){return this(n(t).keySeq())},He.prototype.toString=function(){return this.__toString("OrderedSet {","}")},He.isOrderedSet=Fe;var er=He.prototype;er[pn]=!0,er.__empty=Ke,er.__make=Be;var nr;t(Je,nt),Je.of=function(){return this(arguments)},Je.prototype.toString=function(){return this.__toString("Stack [","]")},Je.prototype.get=function(t,e){var n=this._head;for(t=v(this,t);n&&t--;)n=n.next;return n?n.value:e},Je.prototype.peek=function(){return this._head&&this._head.value},Je.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Ge(t,e)},Je.prototype.pushAll=function(t){if(t=r(t),0===t.size)return this;ht(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Ge(e,n)},Je.prototype.pop=function(){return this.slice(1)},Je.prototype.unshift=function(){return this.push.apply(this,arguments)},Je.prototype.unshiftAll=function(t){return this.pushAll(t)},Je.prototype.shift=function(){return this.pop.apply(this,arguments)},Je.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Xe()},Je.prototype.slice=function(t,e){if(g(t,e,this.size))return this;var n=_(t,this.size);if(m(e,this.size)!==this.size)return nt.prototype.slice.call(this,t,e);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):Ge(r,o)},Je.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ge(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Je.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},Je.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new w(function(){if(r){var e=r.value;return r=r.next,S(t,n++,e)}return I()})},Je.isStack=Ve;var rr="@@__IMMUTABLE_STACK__@@",or=Je.prototype;or[rr]=!0,or.withMutations=Wn.withMutations,or.asMutable=Wn.asMutable,or.asImmutable=Wn.asImmutable,or.wasAltered=Wn.wasAltered;var ir;e.Iterator=w,Ye(e,{toArray:function(){ht(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new oe(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new re(this,!0)},toMap:function(){return ft(this.toKeyedSeq())},toObject:function(){ht(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return Zt(this.toKeyedSeq())},toOrderedSet:function(){return He(s(this)?this.valueSeq():this)},toSet:function(){return Ae(s(this)?this.valueSeq():this)},toSetSeq:function(){return new ie(this)},toSeq:function(){return u(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Je(s(this)?this.valueSeq():this)},toList:function(){return Nt(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){return Oe(this,ye(this,an.call(arguments,0)))},includes:function(t){return this.some(function(e){return X(e,t)})},entries:function(){return this.__iterator(wn)},every:function(t,e){ht(this.size);var n=!0;return this.__iterate(function(r,o,i){if(!t.call(e,r,o,i))return n=!1,!1}),n},filter:function(t,e){return Oe(this,he(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return ht(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){ht(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""}),e},keys:function(){return this.__iterator(mn)},map:function(t,e){return Oe(this,ae(this,t,e))},reduce:function(t,e,n){ht(this.size);var r,o;return arguments.length<2?o=!0:r=e,this.__iterate(function(e,i,s){o?(o=!1,r=e):r=t.call(n,r,e,i,s)}),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Oe(this,ce(this,!0))},slice:function(t,e){return Oe(this,le(this,t,e,!0))},some:function(t,e){return!this.every($e(t),e)},sort:function(t){return Oe(this,be(this,t))},values:function(){return this.__iterator(bn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return d(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return fe(this,t,e)},equals:function(t){return Y(this,t)},entrySeq:function(){var t=this;if(t._cache)return new M(t._cache);var e=t.toSeq().map(Ze).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter($e(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate(function(n,o,i){if(t.call(e,n,o,i))return r=[o,n],!1}),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(y)},flatMap:function(t,e){return Oe(this,_e(this,t,e))},flatten:function(t){return Oe(this,ge(this,t,!0))},fromEntrySeq:function(){return new se(this)},get:function(t,e){return this.find(function(e,n){return X(n,t)},void 0,e)},getIn:function(t,e){for(var n,r=this,o=qe(t);!(n=o.next()).done;){var i=n.value;if((r=r&&r.get?r.get(i,yn):yn)===yn)return e}return r},groupBy:function(t,e){return pe(this,t,e)},has:function(t){return this.get(t,yn)!==yn},hasIn:function(t){return this.getIn(t,yn)!==yn},isSubset:function(t){return t="function"==typeof t.includes?t:e(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return t="function"==typeof t.isSubset?t:e(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(e){return X(e,t)})},keySeq:function(){return this.toSeq().map(Qe).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return we(this,t)},maxBy:function(t,e){return we(this,e,t)},min:function(t){return we(this,t?tn(t):rn)},minBy:function(t,e){return we(this,e?tn(e):rn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Oe(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Oe(this,ve(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile($e(t),e)},sortBy:function(t,e){return Oe(this,be(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Oe(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Oe(this,de(this,t,e))},takeUntil:function(t,e){return this.takeWhile($e(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=on(this))}});var sr=e.prototype;sr[cn]=!0,sr[On]=sr.values,sr.__toJS=sr.toArray,sr.__toStringMapper=en,sr.inspect=sr.toSource=function(){return this.toString()},sr.chain=sr.flatMap,sr.contains=sr.includes,Ye(n,{flip:function(){return Oe(this,ue(this))},mapEntries:function(t,e){var n=this,r=0;return Oe(this,this.toSeq().map(function(o,i){return t.call(e,[i,o],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Oe(this,this.toSeq().flip().map(function(r,o){return t.call(e,r,o,n)}).flip())}});var ur=n.prototype;return ur[hn]=!0,ur[On]=sr.entries,ur.__toJS=sr.toObject,ur.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+en(t)},Ye(r,{toKeyedSeq:function(){return new re(this,!1)},filter:function(t,e){return Oe(this,he(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Oe(this,ce(this,!1))},slice:function(t,e){return Oe(this,le(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=_(t,t<0?this.count():this.size);var r=this.slice(0,t);return Oe(this,1===n?r:r.concat(l(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(t){return Oe(this,ge(this,t,!1))},get:function(t,e){return t=v(this,t),t<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return(t=v(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Oe(this,me(this,t))},interleave:function(){var t=[this].concat(l(arguments)),e=Ie(this.toSeq(),q.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Oe(this,n)},keySeq:function(){return $(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Oe(this,ve(this,t,e,!1))},zip:function(){return Oe(this,Ie(this,nn,[this].concat(l(arguments))))},zipWith:function(t){var e=l(arguments);return e[0]=this,Oe(this,Ie(this,t,e))}}),r.prototype[fn]=!0,r.prototype[pn]=!0,Ye(o,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=sr.includes,o.prototype.contains=o.prototype.includes,Ye(P,n.prototype),Ye(q,r.prototype),Ye(z,o.prototype),Ye(et,n.prototype),Ye(nt,r.prototype),Ye(rt,o.prototype),{Iterable:e,Seq:x,Collection:tt,Map:ft,OrderedMap:Zt,List:Nt,Stack:Je,Set:Ae,OrderedSet:He,Record:ze,Range:$,Repeat:Q,is:X,fromJS:K}})}])});
//# sourceMappingURL=react-signalr.min.js.map